Group {
 name Defocus_Aberrations1
 help "Defocus_Aberrations attempts to simulate a variety of optical lens effects in a controlable way."
 knobChanged "n  = nuke.thisNode()\nk = nuke.thisKnob()\n\nif k.name() == 'zdMath':\n\tdef set_zdefocus_maths(cnode,zmath):\n\t\twith cnode:\n\t\t\tgn = nuke.toNode('ZDefocus_RGBA')\n\t\t\tgn\['math'].setValue(v)\n\t\t\tgn = nuke.toNode('ZDefocus_All')\n\t\t\tgn\['math'].setValue(v)\n\n\tv = int(k.getValue())\n\tt = \[0,4,0,4,0,1,2,3,4,5,6,7]\n\tv = t\[v]\n\tg = nuke.toNode('Cropped_Defocus_Template')\n\tset_zdefocus_maths(g,v)\n\tg = nuke.toNode('Temp_Defocus-Full')\n\tset_zdefocus_maths(g,v)\n\tfor n in nuke.allNodes():\n\t\tif n\['name'].value().startswith('Temp_Defocus-'):\n\t\t\tset_zdefocus_maths(n,v)"
 selected true
 xpos 288
 ypos 63
 addUserKnob {20 mainTab l "Master Controls"}
 addUserKnob {4 output l "Output Select" t "What the node outputs" M {"Defocused Image" "Base Kernel" "Kernel Array" "Slice Colored Array" "" ""}}
 addUserKnob {26 ""}
 addUserKnob {26 text_4 l "" +STARTLINE T "<b>MAIN DEFOCUS SETTINGS</b>"}
 addUserKnob {7 defocus l "Defocus Max" t "Size for overall defocus. Bypassed for optical defocus, but still contols blending between cells there." R 1 128}
 defocus 25
 addUserKnob {6 rgbBokeh l "Color (RGBA) Bokeh (Slower)" t "Allows color bokeh either axial CA or color external bokeh input. Might slow processing a bit." +STARTLINE}
 addUserKnob {6 useZDefocus l "Use zDefocus (Beta - Slower)" t "Utilizes zDefocus for variable defocus. Can be quite a bit slower." +STARTLINE}
 addUserKnob {4 alphaProc l "Alpha Handling" t "Defocuses the input alpha channel" M {"Pass Through" "Process (Slower)" "" "" ""}}
 addUserKnob {20 group l "zDefocus Settings" n 1}
 group 0
 addUserKnob {4 zdMath l "ZDefocus Math" t "Math to use in ZDefocus:\n\n<b>Optical 1/Z</b> Uses lens data below - Real world\n<b>Optical 1/Z Flip</b> As above but flips depth occlusion\n<b>Optical Z</b> Uses lens data below - Real world\n<b>Optical Z Flip</b> As above but flips depth occlusion\n<b>Direct</b> Z directly controls defocus\n<b>Depth</b> Z is distance in front of cam\n<b>Far=0</b> Z is 1/dist (Nuke/RMan)\n<b>Far=1</b> Near 0:Far 1 (OpenGL)\n<b>-Direct</b> Same as direct with occlusion reversed\n<b>-Depth</b> Z is -dist in front of cam\n<b>Far=-0</b> Z is -1/Dist (Maya)\n<b>Far=-1</b> Near 0:Far -1" M {"**Optical (1/ZDepth) - Beta" "**Optical (1/Z Flipped Occlusion) - Beta" "**Optical (ZDepth) - Beta" "**Optical (Z Flipped Occlusion) - Beta" Direct Depth Far=0 Far=1 -Direct -Depth Far=-0 Far=-1 "" "" "" "" "" "" "" "" ""}}
 zdMath Far=0
 addUserKnob {41 zdChan l "Depth Channel" t "Which channel to use for zDefocus depth" T Copy4.from0}
 addUserKnob {41 zdAlpha l "Unpremult By" -STARTLINE T Copy4.from1}
 addUserKnob {7 zdFocus l "Focus Depth (C)" t "Depth that will be in focus" R 0.5 1000}
 zdFocus 0.01993899792
 addUserKnob {22 zdGrab l "Grab Z >>>" t "Will grab the focus depth from the zSample point." T "n = nuke.toNode('DepthSampler')\nm = nuke.thisNode()\npos = m\['zSamplePoint'].value()\nd = n.sample('rgb.red', pos\[0], pos\[1])\nm\['zdFocus'].setValue(d)" +STARTLINE}
 addUserKnob {12 zSamplePoint l "Z Sample Point" -STARTLINE}
 zSamplePoint {1090 610}
 addUserKnob {7 zdMax l Maximum t "Max size limit for zDefocus" R 1 200}
 zdMax 93
 addUserKnob {6 zdAuto l "Auto Layer Spacing" t "Automaticallly sets depth layers" +STARTLINE}
 zdAuto true
 addUserKnob {3 zdLayers l "Depth Layers" t "Manual zDefocus layers"}
 zdLayers 10
 addUserKnob {7 zdCurve l "Layer Curve" t "Pushes layer slices towards or away from focus depth" R 0 5}
 zdCurve 1
 addUserKnob {7 zdPad l "Extra Cell Overlap (Slower)" t "Normally should be zero. If the cell edges show dark borders on FG objects, up this value." R 0 60}
 zdPad 15.5
 addUserKnob {26 text_19 l "<b>Optical Lens / Cam Details</b>"}
 addUserKnob {4 zdUnits l "     Depth Units" t "Units for real-world depth in z channel" M {mm cm dm m inch ft "" "" ""}}
 zdUnits cm
 addUserKnob {7 zdFocal l "Focal Length" t "Lens focal length" R 5 500}
 zdFocal 55
 addUserKnob {7 zdFStop l F-Stop t "Lens aperture" R 0.8 44}
 zdFStop 8
 addUserKnob {7 zdHApp l H-Aperture t "Image sensor horizonal size" R 5 50}
 zdHApp 23.76
 addUserKnob {7 min_zdepth l "Minimum ZDepth" t "Optical defocus minimum depth for efficiency" R 0 20}
 min_zdepth 10
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {26 text_11 l "" +STARTLINE T "<b>IMAGE PROCESSING SETTINGS</b>"}
 addUserKnob {26 text_12 l "" +STARTLINE T "     Screen broken into array for localized processing. "}
 addUserKnob {3 xSlices l X-Slices t "Number of x-slices for array. 7 is a good starting point."}
 xSlices 9
 addUserKnob {3 ySlices l Y-Slices t "Number of y-slices for array. 5 is a good starting point." -STARTLINE}
 ySlices 7
 addUserKnob {22 rebuildArray l "Rebuild Defocus Array" t "Specified aberrations in \"Bokeh Mods\" require the screen to be split into an array for localized processing. This is the grid size used and can be slow to setup and process. 7x5 is a good starting point. Up to 21x9 has been tested." T "# groupNode = nuke.toNode('Defocus_aberrations')\n# groupNode.begin()\n\ndef deselect_all_nodes():\n    for i in nuke.selectedNodes():\n        i.knob('selected').setValue(False)\n\ndef disconnect_inputs(dn):\n    for i in range(0, dn.inputs()):\n        dn.setInput(i, None)\n\ndef delete_by_name(dName):\n    for node in nuke.allNodes():\n        if node\['name'].value().startswith(dName): \n            nuke.delete(node)\n\ndef cleanup_old_array():\n    # First disconnect all the old inputs to the merge & contact sheet nodes\n    mergeNode = nuke.toNode('Cropped_Defocus_Merge')\n    disconnect_inputs(mergeNode)\n    csNode = nuke.toNode('KernelContactSheet')\n    disconnect_inputs(csNode)    \n    # Then delete all the nodes in our array by name\n    delete_by_name(\"Temp_Defocus\")\n\ndef create_node_array(template_node):\n    deselect_all_nodes()\n    template_node.knob('selected').setValue(True)\n    nuke.nodeCopy(\"%clipboard%\") # We're using Nuke's copy buffer to duplicate our master template\n    pos=\[template_node.xpos()+240,template_node.ypos()] # Grab template location\n    template_node\['selected'].setValue(False)\n    # Paste single full-screen node from template\n    singleLink = nuke.toNode('Fullscreen_Node')\n    disconnect_inputs(singleLink)\n    nuke.nodePaste(\"%clipboard%\")\n    newNode = nuke.selectedNode()\n    newNode.knob('name').setValue('Temp_Defocus-Full')\n    newNode.setXpos(int(pos\[0]+80))\n    newNode.setYpos(int(pos\[1]))\n    newNode.setInput( 0, nuke.toNode('PreppedImage'))\n    newNode.setInput( 1, nuke.toNode('PreppedKernel'))\n    singleLink.setInput( 0, newNode)\n    newNode.knob('cellXSlices').setValue(1)\n    newNode.knob('cellYSlices').setValue(1)\n    newNode.knob('cellX').setValue(1)\n    newNode.knob('cellY').setValue(1)\n    nuke.selectedNode()\['selected'].setValue(False)\n    # Paste array of nodes from template\n    xSlices = controlNode.knob('xSlices').getValue()\n    ySlices = controlNode.knob('ySlices').getValue()\n    mergeSlot = 0\n    kernelSlot = 0\n    for y in range(int(ySlices)):\n        for x in range(int(xSlices)):\n            nuke.nodePaste(\"%clipboard%\")\n            newNode = nuke.selectedNode()\n            newNode.knob('name').setValue('Temp_Defocus-'+str(x+1)+\"X\"+str(y+1))\n            newNode.setXpos(int(pos\[0]+480+(120*x)))\n            newNode.setYpos(int(pos\[1]+(80*(ySlices-y-1))))\n            newNode.setInput( 0, nuke.toNode('PreppedImage'))\n            newNode.setInput( 1, nuke.toNode('PreppedKernel'))\n            mergeNode.setInput( mergeSlot, newNode)\n            kernelNode.setInput( kernelSlot, newNode)\n            newNode.knob('cellXSlices').setValue(xSlices)\n            newNode.knob('cellYSlices').setValue(ySlices)\n            newNode.knob('cellX').setValue(x+1)\n            newNode.knob('cellY').setValue(y+1)\n            nuke.selectedNode()\['selected'].setValue(False)\n            mergeSlot = mergeSlot+1\n            if mergeSlot == 2:\n                mergeSlot = mergeSlot + 1\n            kernelSlot = kernelSlot+1\n\n# Main guts of our script here\ncontrolNode = nuke.thisNode() # Node with control knobs\nmergeNode = nuke.toNode('Cropped_Defocus_Merge') # Node that merges the segments\nkernelNode = nuke.toNode('KernelContactSheet')\ntempl = nuke.toNode('Cropped_Defocus_Template') # Node that is our template for the array\ncleanup_old_array()\ncreate_node_array(templ)\n\n# groupNode.end()\n\n\n" +STARTLINE}
 addUserKnob {4 subSample l SubSample t "Pre-scales the image down and then back up after defocusing. Can speed things up a bit at the expense of quality." M {1:1 1:2 1:3 1:4 "" "" "" "" ""}}
 addUserKnob {26 ""}
 addUserKnob {26 text_5 l "" +STARTLINE T <b>PREPROCESSOR</b>}
 addUserKnob {6 preEnable l "Preprocessor Enable" t "Enables preprocessing below" +STARTLINE}
 preEnable true
 addUserKnob {20 group_1 l "Preprocessor Settings" n 1}
 group_1 0
 addUserKnob {7 preGamma l "Defocus Gamma" t "Gamma curve defocus works under. Can boost or reduce the visibility of the bokeh when defocusing." R 0.4 1.5}
 preGamma 0.6
 addUserKnob {7 preHighlight l "Highlights Boost" t "Amount to boost the image hilights" R 1 5}
 preHighlight 1.75
 addUserKnob {7 preThresh l "Highlights Threshold" t "Brightness level where the hilights boost kicks in" R 0 2}
 preThresh 0.75
 addUserKnob {7 preSoft l "Threshold Softness" t "Softens transition into the hilight range to effect"}
 preSoft 0.1
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {26 text_9 l "" +STARTLINE T "<i>Defocus Aberrations 1.2 - Brian Sales - 2021</i>"}
 addUserKnob {20 bokehTab l Bokeh}
 addUserKnob {6 bokExt l "Use External Kernel" t "Accepts external bokeh from filter input pipe" +STARTLINE}
 addUserKnob {26 ""}
 addUserKnob {26 text l "" +STARTLINE T "<b>BOKEH SHAPE</b>"}
 addUserKnob {3 bokSides l "Iris Sides" t "How many edges bokeh polygon has"}
 bokSides 9
 addUserKnob {7 bokRounding l "Edge Rounding" t "Curves edges of the bokeh polygon"}
 bokRounding 0.775
 addUserKnob {7 bokCornerRound l "Corner Roundness" t "Softens the coner of the polygon"}
 bokCornerRound 0.23
 addUserKnob {7 bokRotate l Rotation t "Rotates polygon" R 0 360}
 bokRotate 144
 addUserKnob {26 ""}
 addUserKnob {26 text_1 l "" +STARTLINE T "<b>BOKEH SHADING</b>"}
 addUserKnob {7 bokEdge l "Edge Brightness" t "Brightness at the outside edge of the bokeh"}
 bokEdge 1
 addUserKnob {7 bokCenter l "Center Brightness" t "Brightness at the center of the bokeh"}
 bokCenter 0.625
 addUserKnob {7 bokBias l "Transition Radius" t "Slides the brightness transition ring from center to edge"}
 bokBias 0.98
 addUserKnob {7 bokSoft l "Inner Softness" t "Softens the shading from the ring inward to the center"}
 bokSoft 0.275
 addUserKnob {26 ""}
 addUserKnob {26 text_2 l "" +STARTLINE T "<b>BOKEH NOISE</b>"}
 addUserKnob {6 bokNoiseEnable l "Bokeh Noise Enable" t "Enables a noise pattern in the bokeh" +STARTLINE}
 bokNoiseEnable true
 addUserKnob {20 group_6 l "Bokeh Noise Settings" n 1}
 group_6 0
 addUserKnob {7 bokTexDensity l "Noise Density" t "How intesnse the noise will be"}
 bokTexDensity 0.465
 addUserKnob {7 bokTexScale l "Noise Scale" t "Size of the noise" R 4 25}
 bokTexScale 9
 addUserKnob {7 bokNoiseGain l "Noise Detail" t "Sharpens and softens noise" R 0.1 1}
 bokNoiseGain 0.62
 addUserKnob {7 bokNoiseTexGamma l "Noise Tex Gamma" t "Gamma of noise pattern"}
 bokNoiseTexGamma 0.52
 addUserKnob {20 endGroup_6 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {26 text_3 l "" +STARTLINE T "<b>BOKEH ONION RINGS</b>"}
 addUserKnob {6 onionEnable l "Onion Rings Enable" t "Adds an onion ring style overlay to bokeh" +STARTLINE}
 onionEnable true
 addUserKnob {20 group_7 l "Onion Rings Settings" n 1}
 group_7 0
 addUserKnob {7 onionOpacity l "Ring Density" t "How visible the rings will be"}
 onionOpacity 0.23
 addUserKnob {7 onionFreq l "Ring Spacing" t "How tightly packed the rings are"}
 onionFreq 0.645
 addUserKnob {7 onionNoise l "Ring Noise" t "Intensity of noise that breaks up the rings"}
 onionNoise 0.3
 addUserKnob {20 endGroup_7 l endGroup n -1}
 addUserKnob {20 bokehModTab l "Bokeh Mods"}
 addUserKnob {26 text_10 l "" +STARTLINE T "<b>ASPECT RAIO (ANAMORPHIC)</b>"}
 addUserKnob {7 bokAspect l "Aspect Ratio" t "Sets the aspect ratio of the bokeh to match anamophic lenses"}
 bokAspect 1
 addUserKnob {26 ""}
 addUserKnob {26 text_13 l "" +STARTLINE T "<b>CIRCULAR VIGNETTING (CAT'S EYE)*</b>"}
 addUserKnob {6 catEnable l "Cat's Eye Enable" t "Enables the cat's eye effect" +STARTLINE}
 catEnable true
 addUserKnob {20 group_8 l "Cat's Eye Settings" n 1}
 group_8 0
 addUserKnob {7 catOffset l Amount t "Amount the secondary circle occludes the bokeh at the corners"}
 catOffset 0.5
 addUserKnob {7 catExpansion l "Flatten Curve" t "Adjusts the vignette shape from a circle to near a straight line" R 1 4}
 catExpansion 1.1
 addUserKnob {7 catSoftness l "Edge Softness" t "Softens the vignette shape"}
 catSoftness 0.22
 addUserKnob {7 catCoverage l "Screen Coverage" t "How quickly the effect dimishes as you approach the center of the screen"}
 catCoverage 1
 addUserKnob {20 endGroup_8 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {26 text_14 l "" +STARTLINE T "<B>RADIAL STRETCHING (ASTIGMATISM)*</B>"}
 addUserKnob {6 radStretchEnable l "Radial Stretch Enable" t "Enables radial bokeh stretching" +STARTLINE}
 addUserKnob {20 group_9 l "Circular Expansion Settings" n 1}
 group_9 0
 addUserKnob {4 radType l "Distortion Direction" t "<b>Tangential</b> - Stretches around circle shape of lens\n<b>Radial</b> - Stretches in line facing center of lens" M {Tangential Radial "" "" "" ""}}
 addUserKnob {7 radStretch l "Stretch Amount" t "Amount to stretch bokeh" R 0 3}
 radStretch 0.5
 addUserKnob {7 radCoverage l Coverage t "How quickly to reduce effect towards center of frame"}
 radCoverage 1
 addUserKnob {20 endGroup_9 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {26 text_15 l "" +STARTLINE T "<b>CROPPED BOKEH - MATTE BOX FLAGS*</b>"}
 addUserKnob {6 mattebEnable l "Matte Box Flags Enable" t "Enable bokeh crop / Matte box flags" +STARTLINE}
 addUserKnob {20 group_10 l "Matte Box Flag Settings" n 1}
 group_10 0
 addUserKnob {7 mattebLeft l Left t "Left crop max"}
 mattebLeft 0.75
 addUserKnob {7 mattebRight l Right t "Right crop max" -STARTLINE}
 mattebRight 0.75
 addUserKnob {7 mattebTop l Top t "Top crop max"}
 mattebTop 0.5
 addUserKnob {7 mattebBot l Bottom t "Bottom crop max" -STARTLINE}
 mattebBot 0.5
 addUserKnob {7 mattebSoft l "Edge Softness" t "Softness at edge of crop" R 0 0.5}
 mattebSoft 0.1
 addUserKnob {7 mattebCoverX l Coverage-X t "Fades out crop further from initial horizontal edge" R 0 3}
 mattebCoverX 0.75
 addUserKnob {7 mattebCoverY l Coverage-Y t "Fades out crop further from initial vertical edge" R 0 3}
 mattebCoverY 0.75
 addUserKnob {20 endGroup_10 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {26 text_16 l "" +STARTLINE T "<b>BOKEH FRINGING (AXIAL / LONGITUDINAL CHROMATIC ABBERATION)</b>"}
 addUserKnob {6 locaEnable l "Bokeh Fringing Enable (Requires RGB Bokeh)" t "Enables bokeh fringiing. Must have RGB bokeh enabled in Master Controls tab. This shows as color fringing around bokeh across the whole screen." +STARTLINE}
 addUserKnob {20 group_11 l "Bokeh Fringing Settings" n 1}
 group_11 0
 addUserKnob {68 locaType l "Ramp Type" t "Determines color spread of fringing" M {Red-Blue Green-Magenta ""}}
 locaType Green-Magenta
 addUserKnob {7 locaScale l "Fringing Amount" t "Expands fringing range... Can reverse with negitive values" R -1 1}
 locaScale 0.25
 addUserKnob {3 locaDivisions l "Ramp Divisions" t "Number of slices of color for each RGB value. Default 4."}
 locaDivisions 4
 addUserKnob {20 endGroup_11 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {26 text_17 l "" +STARTLINE T "<b>FIELD CURVATURE (CORNER BLUR)*</b>"}
 addUserKnob {6 fcEnable l "Field Curvature Enable" t "Enables field curvature effect that softens edge or center area of image." +STARTLINE}
 addUserKnob {20 group_12 l "Field Curvature Settings" n 1}
 group_12 0
 addUserKnob {4 fcType l Blur t "Selects area where effect is stronger" M {Corners Center ""}}
 addUserKnob {7 fcBlur l "Max Blur" t "How much to soften" R 0 30}
 fcBlur 5
 addUserKnob {7 fcGamma l "Falloff Gamma" t "Weights to edge or center more" R 0 2}
 fcGamma 1
 addUserKnob {20 endGroup_12 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {26 text_18 l "" +STARTLINE T "<i>* Requires Image Array (SLOWER)</i>"}
 addUserKnob {20 postTab l "Post Processing"}
 addUserKnob {26 text_6 l "" +STARTLINE T "<b>LATERAL / TRANSVERSE CHROMATIC ABBERATION</b>"}
 addUserKnob {6 caEnable l "Chromatic Abberation Enable" t "Enable lateral chromatic abberation that mostly effects edges of image." +STARTLINE}
 addUserKnob {20 group_2 l "Chromatic Abberation Settings" n 1}
 group_2 0
 addUserKnob {4 caType l "Dispersion Type" t "Color range of abberation" M {Red-Blue Green-Magenta "" ""}}
 caType Green-Magenta
 addUserKnob {7 caScale l Amount t "How much to stretch out range. Negitive values reverse color spread. " R -1 1}
 caScale 0.33
 addUserKnob {3 caDivisions l "Ramp Divisions" t "Number of slices used to create effect. Default 4."}
 caDivisions 4
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {26 text_7 l "" +STARTLINE T <b>COMA</b>}
 addUserKnob {6 comaEnable l "Coma Enable" t "Enables a simple coma effect. This is a spreading ghost of the image expanding out from the center of the frame. " +STARTLINE}
 addUserKnob {20 group_3 l "Coma Settings" n 1}
 group_3 0
 addUserKnob {7 comaScale l "Coma Radial Scale" t "Pushes the ghosting outward"}
 comaScale 0.26
 addUserKnob {7 comaBlur l "Coma Blur Tail" t "How quickly the ghosts soften as they expand"}
 comaBlur 0.4
 addUserKnob {7 comaFade l "Coma Density" t "How dense the effect is applied"}
 comaFade 0.505
 addUserKnob {7 comaCover l "Center Screen Density" t "Fades out the effect in the center of the screen to avoid visisble artifacting there."}
 comaCover 0.525
 addUserKnob {6 color_rgb_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
 color_rgb_panelDropped true
 addUserKnob {3 comaDivisions l "Coma Divisions" t "How many slices are used to build the effect. Default 8."}
 comaDivisions 8
 addUserKnob {20 endGroup_3 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {26 text_8 l "" +STARTLINE T "<b>IMAGE VIGNETTING</b>"}
 addUserKnob {6 vigCircleEnable l "Image Circle Vignette Enable" t "Vignette applied as a dark circle around the edge of the frame as if the lens circle didn't fill the frame. " +STARTLINE}
 addUserKnob {20 group_5 l "Image Circle Vignette Settings" n 1}
 group_5 0
 addUserKnob {7 vigCircleSize l "Circle Size" t "Size of dark circle" R 0.5 1.5}
 vigCircleSize 1.135
 addUserKnob {7 vigCircleSoft l "Circle Softness" t "Circle softening"}
 vigCircleSoft 0.21
 addUserKnob {20 endGroup_5 l endGroup n -1}
 addUserKnob {6 vigNatEnable l "Natural Vignette (Falloff) Enable    " t "This is a Cos^4 faloff effect that simulates the natural darkening of the image that some lenses can produce." +STARTLINE}
 addUserKnob {20 group_4 l "Natural Vignette Settings" n 1}
 group_4 0
 addUserKnob {7 vigNatDensity l "Natural Vignette Density" t "How stongly to apply the effect"}
 vigNatDensity 1
 addUserKnob {7 vigNatScale l "Natural Vignette Scale" t "Applies a scale to the effect to push the falloff inward or outward." R 0.5 4}
 vigNatScale 1
 addUserKnob {20 endGroup_4 l endGroup n -1}
}
 BackdropNode {
  inputs 0
  name BackdropNode1
  tile_color 0xa3a154ff
  label Kernel
  note_font_size 42
  xpos -430
  ypos -1791
  bdwidth 541
  bdheight 301
 }
 BackdropNode {
  inputs 0
  name BackdropNode10
  tile_color 0x7171c600
  label "zDefocus Prep"
  note_font_size 42
  xpos 845
  ypos -1653
  bdwidth 391
  bdheight 425
 }
 BackdropNode {
  inputs 0
  name BackdropNode2
  tile_color 0x7171c600
  label Preprocessor
  note_font_size 42
  xpos 1009
  ypos -1166
  bdwidth 383
  bdheight 252
 }
 BackdropNode {
  inputs 0
  name BackdropNode3
  tile_color 0x576799ff
  label "Lateral Chromatic Abberation"
  note_font_size 42
  xpos 240
  ypos 992
  bdwidth 1040
  bdheight 655
 }
 BackdropNode {
  inputs 0
  name BackdropNode6
  tile_color 0x576799ff
  label Coma
  note_font_size 42
  xpos 241
  ypos 1675
  bdwidth 1038
  bdheight 409
 }
 BackdropNode {
  inputs 0
  name BackdropNode7
  tile_color 0x576799ff
  label Vignette
  note_font_size 42
  xpos 241
  ypos 2115
  bdwidth 1038
  bdheight 409
 }
 BackdropNode {
  inputs 0
  name BackdropNode8
  tile_color 0xa3a154ff
  label "Onion Rings"
  note_font_size 42
  xpos -431
  ypos -1459
  bdwidth 543
  bdheight 598
 }
 BackdropNode {
  inputs 0
  name BackdropNode9
  tile_color 0x7171c600
  label "Template Here!"
  note_font_size 42
  xpos -430
  ypos -401
  bdwidth 300
  bdheight 242
 }
 BackdropNode {
  inputs 0
  name BackdropNode4
  tile_color 0x7c8fcaff
  label "Spectral RGB CA"
  note_font_size 42
  xpos 399
  ypos 1077
  bdwidth 403
  bdheight 566
  z_order 1
 }
 BackdropNode {
  inputs 0
  name BackdropNode5
  tile_color 0x7c8fcaff
  label Green-Magenta
  note_font_size 42
  xpos 844
  ypos 1077
  bdwidth 393
  bdheight 566
  z_order 1
 }
 Input {
  inputs 0
  name Filter
  xpos 320
  ypos -1692
  number 1
 }
 Reformat {
  inputs 0
  format "1024 1024 0 0 1024 1024 1 square_1K"
  name Reformat2
  xpos -280
  ypos -1336
 }
set N98f89000 [stack 0]
 Noise {
  output {rgba.red -rgba.green -rgba.blue none}
  replace true
  size 20.5
  center {960 540}
  name Noise2
  xpos -400
  ypos -1332
 }
 Noise {
  output {-rgba.red rgba.green -rgba.blue none}
  size 20.5
  zoffset 2.5
  center {512 512}
  name Noise3
  xpos -400
  ypos -1292
 }
 Grade {
  multiply 2
  add -0.5
  black_clamp false
  name Grade5
  xpos -400
  ypos -1252
 }
push $N98f89000
 Expression {
  temp_name0 freq
  temp_expr0 ringFreq*0.04
  channel3 alpha
  expr3 sin(hypot(cx,cy)/freq)
  name Expression2
  xpos -280
  ypos -1292
  addUserKnob {20 User}
  addUserKnob {7 ringFreq l "Ring Frequency" R 0.25 1}
  ringFreq {{onionFreq}}
 }
 Grade {
  name Grade6
  xpos -280
  ypos -1252
 }
 Copy {
  inputs 2
  from0 rgba.red
  to0 forward.u
  from1 rgba.green
  to1 forward.v
  name Copy1
  xpos -280
  ypos -1221
 }
 IDistort {
  channels alpha
  uv forward
  uv_scale {{(onionNoise*90)+10}}
  name IDistort1
  xpos -280
  ypos -1176
 }
 Blur {
  channels alpha
  size 3
  name Blur3
  xpos -280
  ypos -1136
 }
 Reformat {
  format "128 128 0 0 128 128 1 square_128"
  name Reformat3
  xpos -280
  ypos -1096
 }
 Shuffle {
  red alpha
  green alpha
  blue alpha
  name Shuffle11
  xpos -282
  ypos -1053
 }
 Dot {
  name Dot4
  xpos -248
  ypos -968
 }
 Reformat {
  inputs 0
  format "128 128 0 0 128 128 1 square_128"
  name Reformat1
  xpos -200
  ypos -1696
 }
set N98fa5400 [stack 0]
 Dot {
  name Dot1
  xpos -48
  ypos -1688
 }
 Noise {
  output alpha
  type turbulence
  size {{bokTexScale}}
  gain {{bokNoiseGain}}
  gamma {{bokNoiseTexGamma}}
  center {320 240}
  name Noise1
  xpos -80
  ypos -1616
 }
push $N98fa5400
 Flare {
  position {{width/2} {height/2}}
  radius {{((width/2)*.95)*bokBias*((1-bokSoft)*.98)} {((width/2)*.95)*bokBias} {width/2-1}}
  ring_color {{bokEdge}}
  inner_color {{bokCenter}}
  vis_mask_size 1
  corners {{bokSides}}
  flattening {{1-bokRounding}}
  sharpness {{1-bokCornerRound}}
  corners_angle {{bokRotate}}
  name Flare1
  xpos -200
  ypos -1652
 }
 Grade {
  inputs 1+1
  white {{1-bokTexDensity}}
  name Grade1
  xpos -200
  ypos -1612
  disable {{!bokNoiseEnable}}
 }
 Shuffle {
  alpha green
  name Shuffle9
  xpos -200
  ypos -1572
 }
 Merge2 {
  inputs 2
  operation multiply
  mix {{onionOpacity*0.25}}
  name Merge9
  xpos -200
  ypos -972
  disable {{!onionEnable}}
 }
 Dot {
  name Dot3
  xpos -168
  ypos -768
 }
 Switch {
  inputs 2
  which {{bokExt}}
  name Switch1
  xpos 320
  ypos -772
 }
 Reformat {
  format "128 128 0 0 128 128 1 square_128"
  resize fit
  name Reformat6
  xpos 320
  ypos -696
 }
 NoOp {
  name PreppedKernel
  xpos 320
  ypos -612
 }
set N9777dc00 [stack 0]
 Input {
  inputs 0
  name Image
  xpos 1040
  ypos -1692
 }
set N9777d800 [stack 0]
 Dot {
  name Dot39
  xpos 1072
  ypos -1568
 }
set N9777d400 [stack 0]
 Dot {
  name Dot40
  xpos 952
  ypos -1568
 }
 AddChannels {
  channels depth
  channels2 rgba
  name AddChannels1
  xpos 920
  ypos -1536
 }
set N9777cc00 [stack 0]
push $N9777cc00
 Copy {
  inputs 2
  from0 depth.Z
  to0 rgba.red
  to1 rgba.alpha
  name Copy4
  label "Channel Chooser"
  xpos 920
  ypos -1506
 }
 Unpremult {
  name _UNPREMULT_Z_
  xpos 920
  ypos -1412
  disable {{!parent.unpremult_z}}
 }
 Expression {
  temp_name3 max_dist
  temp_expr3 100000
  expr0 "r == 0 ? max_dist : 1/r"
  channel1 none
  channel2 none
  name DepthInvert
  xpos 920
  ypos -1372
  disable {{zdMath>1}}
 }
set N98fe7c00 [stack 0]
 Multiply {
  channels rgb
  value {{"parent.zdUnits == 1 ? 10 : parent.zdUnits == 2 ? 100 : parent.zdUnits == 3 ? 1000 : parent.zdUnits == 4 ? 25.4 : parent.zdUnits == 5 ? 304.8 : 1"}}
  name _UNIT_MULTIPLIER_
  xpos 920
  ypos -1332
  addUserKnob {20 User}
  addUserKnob {7 depth_unit_divider R 0 500}
  depth_unit_divider {{"parent.zdUnits == 1 ? 10 : parent.zdUnits == 2 ? 100 : parent.zdUnits == 3 ? 1000 : parent.zdUnits == 4 ? 25.4 : parent.zdUnits == 5 ? 304.8 : 1"}}
 }
 Expression {
  temp_name0 zdepth
  temp_expr0 "r < parent.min_zdepth* _UNIT_MULTIPLIER_.value ? parent.min_zdepth* _UNIT_MULTIPLIER_.value : r"
  temp_name1 focus_dist
  temp_expr1 "s * _UNIT_MULTIPLIER_.value"
  temp_name2 coc
  temp_expr2 "(fabs(focus_dist - zdepth) * pow(f,2) / (N * zdepth * (focus_dist - f)))"
  temp_name3 coc_px
  temp_expr3 "fabs(coc / haperture * input.width / 2)"
  channel0 rgba
  expr0 coc_px
  channel1 none
  name Generate_Direct_Z
  xpos 920
  ypos -1292
  addUserKnob {20 Optical l "Optical Characteristics"}
  addUserKnob {7 f l "focal length" R 0 500}
  f {{parent.zdFocal}}
  addUserKnob {7 N l f-stop R 0 44}
  N {{zdFStop}}
  addUserKnob {7 haperture R 0 50}
  haperture {{zdHApp}}
  addUserKnob {7 s l "focus distance" R 0 1000}
  s {{zdFocus}}
 }
push $N9777d400
 Copy {
  inputs 2
  from0 rgba.red
  to0 depth.Z
  name Copy3
  xpos 1040
  ypos -1296
  disable {{zdMath>3}}
 }
 Dot {
  name Dot5
  xpos 1072
  ypos -1088
 }
set N98fe6c00 [stack 0]
 Dot {
  name Dot6
  xpos 1272
  ypos -1088
 }
 Keyer {
  operation "luminance key"
  range {{preThresh-(preSoft/2)} {preThresh+(preSoft/2)} 20 20}
  name Keyer1
  xpos 1240
  ypos -1056
 }
 Dot {
  name Dot7
  xpos 1272
  ypos -1008
 }
push $N98fe6c00
 Grade {
  inputs 1+1
  white {{preHighlight}}
  name Grade2
  label "Highlights Boost"
  xpos 1040
  ypos -1016
  disable {{!preEnable}}
 }
 Gamma {
  channels rgb
  value {{preGamma}}
  name Gamma1
  xpos 1040
  ypos -972
  disable {{!preEnable x1 1}}
 }
 Reformat {
  type scale
  scale {{1/(subSample+1)}}
  pbb true
  name Reformat4
  xpos 1040
  ypos -812
 }
add_layer {origAlpha origAlpha.alpha}
 Shuffle {
  alpha white
  black alpha
  out2 origAlpha
  name Shuffle10
  xpos 1040
  ypos -732
 }
 NoOp {
  name PreppedImage
  xpos 1040
  ypos -612
 }
set N98fe4800 [stack 0]
 Group {
  inputs 2
  name Temp_Defocus-Full
  xpos 0
  ypos -292
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 1
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 1
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 1
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 1
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N5172c00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N5172c00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N5095800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N5094c00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N5094800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N5094400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N504fc00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N504f800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N504f800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N504fc00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N5094400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N5094800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N5094c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N5095800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N48f7c00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N48f7800 [stack 0]
push $N48f7800
push $N48f7c00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N48f7400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N48f7000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N48f6800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N48f5000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N48f5000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N48bb400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N48ba800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N48ba400 [stack 0]
push $N48f6800
push $N48ba800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N48ba000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N48f7000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N48ba000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N48b8400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N48f7400
push $N48b8400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N48ba400
push $N48bb400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
 NoOp {
  name Fullscreen_Node
  xpos 0
  ypos 628
 }
 Dot {
  name Dot38
  xpos 32
  ypos 712
 }
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-9X7
  xpos 1360
  ypos -292
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 9
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 7
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9ffc4c00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9ffc4c00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9ff7d000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9ff7c400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set Na032fc00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set Na032f800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set Na032f400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set Na032f000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $Na032f000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $Na032f400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $Na032f800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $Na032fc00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9ff7c400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9ff7d000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set Na0267400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set Na0267000 [stack 0]
push $Na0267000
push $Na0267400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set Na0266c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set Na0266800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set Na0266000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set Na0264800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $Na0264800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set Na062ac00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set Na062a000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set Na0629c00 [stack 0]
push $Na0266000
push $Na062a000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set Na0629800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $Na0266800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $Na0629800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set Na05db800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $Na0266c00
push $Na05db800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $Na0629c00
push $Na062ac00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set Na0026400 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-8X7
  xpos 1240
  ypos -292
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 8
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 7
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set Na0236800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $Na0236800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set Na01e6c00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set Na01e6000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set Na01e5c00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set Na01e5800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set Na01e5400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set Na01e5000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $Na01e5000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $Na01e5400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $Na01e5800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $Na01e5c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $Na01e6000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $Na01e6c00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set Na0135400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set Na0135000 [stack 0]
push $Na0135000
push $Na0135400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set Na0134c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set Na0134800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set Na00e3c00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set Na00e2400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $Na00e2400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set Na00e0c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set Na0097c00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set Na0097800 [stack 0]
push $Na00e3c00
push $Na0097c00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set Na0097400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $Na0134800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $Na0097400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set Na0095800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $Na0134c00
push $Na0095800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $Na0097800
push $Na00e0c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9fed0100 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-7X7
  xpos 1120
  ypos -292
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 7
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 7
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9fcfc800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9fcfc800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9fcb4c00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9fc67c00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9fc67800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9fc67400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9fc67000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9fc66c00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9fc66c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9fc67000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9fc67400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9fc67800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9fc67c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9fcb4c00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9fb97000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9fb96c00 [stack 0]
push $N9fb96c00
push $N9fb97000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9fb96800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9fb96400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9fb95c00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9fb94400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9fb94400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9fb56800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9fb55c00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9fb55800 [stack 0]
push $N9fb95c00
push $N9fb55c00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9fb55400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9fb96400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9fb55400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9ff0b400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9fb96800
push $N9ff0b400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9fb55800
push $N9fb56800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9fd69d00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-6X7
  xpos 1000
  ypos -292
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 6
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 7
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9f77a400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9f77a400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9fb16800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9fb15c00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9fb15800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9fb15400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9fb15000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9fb14c00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9fb14c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9fb15000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9fb15400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9fb15800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9fb15c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9fb16800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9fa71000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9fa70c00 [stack 0]
push $N9fa70c00
push $N9fa71000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9fa70800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9fa70400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9fe13800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9fe12000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9fe12000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9fe10800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9fdcb800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9fdcb400 [stack 0]
push $N9fe13800
push $N9fdcb800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9fdcb000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9fa70400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9fdcb000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9fdc9400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9fa70800
push $N9fdc9400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9fdcb400
push $N9fe10800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9f7b3900 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-5X7
  xpos 880
  ypos -292
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 5
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 7
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9fa2c400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9fa2c400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9f9f0800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9f99f800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9f99f400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9f99f000 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9f99ec00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9f99e800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9f99e800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9f99ec00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9f99f000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9f99f400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9f99f800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9f9f0800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9f8dac00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9f8da800 [stack 0]
push $N9f8da800
push $N9f8dac00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9f8da400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9f8da000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9f8d9800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9f88fc00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9f88fc00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9f88e400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9f88d800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9f88d400 [stack 0]
push $N9f8d9800
push $N9f88d800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9f88d000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9f8da000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9f88d000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9f837000 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9f8da400
push $N9f837000
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9f88d400
push $N9f88e400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9f699600 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-4X7
  xpos 760
  ypos -292
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 4
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 7
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9f4ae000 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9f4ae000
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9f462400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9f461800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9f461400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9f461000 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9f460c00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9f460800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9f460800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9f460c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9f461000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9f461400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9f461800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9f462400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9f3a8c00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9f3a8800 [stack 0]
push $N9f3a8800
push $N9f3a8c00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9f3a8400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9f747c00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9f747400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9f745c00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9f745c00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9f744400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9f6ff400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9f6ff000 [stack 0]
push $N9f747400
push $N9f6ff400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9f6fec00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9f747c00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9f6fec00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9f6fd000 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9f3a8400
push $N9f6fd000
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9f6ff000
push $N9f744400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9f51b200 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-3X7
  xpos 640
  ypos -292
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 3
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 7
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9f31fc00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9f31fc00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9f31c400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9f2d3400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9f2d3000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9f2d2c00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9f2d2800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9f2d2400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9f2d2400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9f2d2800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9f2d2c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9f2d3000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9f2d3400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9f31c400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9f5fe800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9f5fe400 [stack 0]
push $N9f5fe400
push $N9f5fe800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9f5fe000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9f5fdc00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9f5fd400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9f5c7800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9f5c7800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9f5c6000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9f5c5400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9f5c5000 [stack 0]
push $N9f5fd400
push $N9f5c5400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9f5c4c00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9f5fdc00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9f5c4c00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9f57ac00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9f5fe000
push $N9f57ac00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9f5c5000
push $N9f5c6000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9efbcf00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-2X7
  xpos 520
  ypos -292
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 2
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 7
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9f1e9c00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9f1e9c00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9f19a000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9f199400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9f199000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9f198c00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9f198800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9f198400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9f198400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9f198800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9f198c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9f199000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9f199400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9f19a000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9f0d8800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9f0d8400 [stack 0]
push $N9f0d8400
push $N9f0d8800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9f077c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9f077800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9f077000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9f075800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9f075800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9f03bc00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9f03b000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9f03ac00 [stack 0]
push $N9f077000
push $N9f03b000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9f03a800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9f077800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9f03a800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9f038c00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9f077c00
push $N9f038c00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9f03ac00
push $N9f03bc00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9ee5eb00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-1X7
  xpos 400
  ypos -292
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 1
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 7
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9ec57800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9ec57800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9ebffc00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9ebff000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9ebfec00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9ebfe800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9ebfe400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9ebfe000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9ebfe000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9ebfe400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9ebfe800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9ebfec00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9ebff000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9ebffc00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9ef42400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9ef42000 [stack 0]
push $N9ef42000
push $N9ef42400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9ef41c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9ef41800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9ef41000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9eef7400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9eef7400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9eef5c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9eef5000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9eef4c00 [stack 0]
push $N9ef41000
push $N9eef5000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9eef4800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9ef41800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9eef4800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9eeb2800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9ef41c00
push $N9eeb2800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9eef4c00
push $N9eef5c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9ecec800 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-9X6
  xpos 1360
  ypos -212
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 9
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 6
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9eb19800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9eb19800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9eac5c00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9eac5000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9eac4c00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9eac4800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9eac4400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9ea7fc00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9ea7fc00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9eac4400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9eac4800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9eac4c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9eac5000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9eac5c00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9ee0c400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9edb3c00 [stack 0]
push $N9edb3c00
push $N9ee0c400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9edb3800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9edb3400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9edb2c00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9edb1400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9edb1400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9ed6f800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9ed6ec00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9ed6e800 [stack 0]
push $N9edb2c00
push $N9ed6ec00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9ed6e400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9edb3400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9ed6e400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9ed6c800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9edb3800
push $N9ed6c800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9ed6e800
push $N9ed6f800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9e792400 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-8X6
  xpos 1240
  ypos -212
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 8
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 6
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9e993400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9e993400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9e937800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9e936c00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9e936800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9e936400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9e936000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9e935c00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9e935c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9e936000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9e936400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9e936800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9e936c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9e937800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9e876000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9e875c00 [stack 0]
push $N9e875c00
push $N9e876000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9e875800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9e875400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9e874c00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9e82b000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9e82b000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9e829800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9e828c00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9e828800 [stack 0]
push $N9e874c00
push $N9e828c00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9e828400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9e875400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9e828400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9e7d6400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9e875800
push $N9e7d6400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9e828800
push $N9e829800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9ea28100 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-7X6
  xpos 1120
  ypos -212
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 7
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 6
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9e445400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9e445400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9e3f9800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9e3f8c00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9e3f8800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9e3f8400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9e3b7c00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9e3b7800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9e3b7800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9e3b7c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9e3f8400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9e3f8800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9e3f8c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9e3f9800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9e6e7c00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9e6e7800 [stack 0]
push $N9e6e7800
push $N9e6e7c00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9e6e7400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9e6e7000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9e6e6800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9e6e5000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9e6e5000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9e6b3400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9e6b2800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9e6b2400 [stack 0]
push $N9e6e6800
push $N9e6b2800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9e6b2000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9e6e7000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9e6b2000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9e6b0400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9e6e7400
push $N9e6b0400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9e6b2400
push $N9e6b3400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9e4c1d00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-6X6
  xpos 1000
  ypos -212
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 6
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 6
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9e2c3000 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9e2c3000
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9e273400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9e272800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9e272400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9e272000 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9e271c00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9e271800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9e271800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9e271c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9e272000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9e272400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9e272800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9e273400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9e5adc00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9e5ad800 [stack 0]
push $N9e5ad800
push $N9e5adc00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9e5ad400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9e5ad000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9e5ac800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9e566c00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9e566c00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9e565400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9e564800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9e564400 [stack 0]
push $N9e5ac800
push $N9e564800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9e50fc00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9e5ad000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9e50fc00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9e50e000 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9e5ad400
push $N9e50e000
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9e564400
push $N9e565400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9e307900 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-5X6
  xpos 880
  ypos -212
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 5
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 6
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9e17d000 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9e17d000
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9e125400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9e124800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9e124400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9e0e7c00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9e0e7800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9e0e7400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9e0e7400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9e0e7800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9e0e7c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9e124400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9e124800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9e125400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9e023800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9e023400 [stack 0]
push $N9e023400
push $N9e023800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9e023000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9e022c00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9e022400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9e020c00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9e020c00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9dfe3000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9dfe2400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9dfe2000 [stack 0]
push $N9e022400
push $N9dfe2400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9dfe1c00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9e022c00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9dfe1c00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9df8bc00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9e023000
push $N9df8bc00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9dfe2000
push $N9dfe3000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9e1ed600 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-4X6
  xpos 760
  ypos -212
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 4
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 6
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9dbf6c00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9dbf6c00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9dba7000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9dba6400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9dba6000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9dba5c00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9dba5800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9dba5400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9dba5400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9dba5800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9dba5c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9dba6000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9dba6400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9dba7000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9dee9800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9dee9400 [stack 0]
push $N9dee9400
push $N9dee9800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9dee9000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9dee8c00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9dee8400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9dea2800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9dea2800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9dea1000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9dea0400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9e247c00 [stack 0]
push $N9dee8400
push $N9dea0400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9e247800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9dee8c00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9e247800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9e245c00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9dee9000
push $N9e245c00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9e247c00
push $N9dea1000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9dc6f200 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-3X6
  xpos 640
  ypos -212
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 3
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 6
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9dab8c00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9dab8c00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9da71000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9da70400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9de23c00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9de23800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9de23400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9de23000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9de23000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9de23400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9de23800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9de23c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9da70400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9da71000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9dd4b400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9dd4b000 [stack 0]
push $N9dd4b000
push $N9dd4b400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9dd4ac00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9dd4a800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9dd4a000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9dd48800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9dd48800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9dd12c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9dd12000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9dd11c00 [stack 0]
push $N9dd4a000
push $N9dd12000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9dd11800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9dd4a800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9dd11800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9dcb7800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9dd4ac00
push $N9dcb7800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9dd11c00
push $N9dd12c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9db14f00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-2X6
  xpos 520
  ypos -212
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 2
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 6
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9d92a800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9d92a800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9d8cec00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9d8ce000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9d8cdc00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9d8cd800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9d8cd400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9d8cd000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9d8cd000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9d8cd400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9d8cd800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9d8cdc00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9d8ce000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9d8cec00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9d821400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9d821000 [stack 0]
push $N9d821000
push $N9d821400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9d820c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9d820800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9d7cbc00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9d7ca400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9d7ca400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9d7c8c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9d78bc00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9d78b800 [stack 0]
push $N9d7cbc00
push $N9d78bc00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9d78b400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9d820800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9d78b400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9d789800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9d820c00
push $N9d789800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9d78b800
push $N9d7c8c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9d9aeb00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-1X6
  xpos 400
  ypos -212
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 1
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 6
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9d3f0800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9d3f0800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9d39cc00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9d35bc00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9d35b800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9d35b400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9d35b000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9d35ac00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9d35ac00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9d35b000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9d35b400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9d35b800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9d35bc00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9d39cc00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9d687000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9d686c00 [stack 0]
push $N9d686c00
push $N9d687000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9d686800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9d686400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9d685c00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9d684400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9d684400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9da3e800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9da3dc00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9da3d800 [stack 0]
push $N9d685c00
push $N9da3dc00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9da3d400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9d686400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9da3d400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9d9eb400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9d686800
push $N9d9eb400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9da3d800
push $N9da3e800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9d444800 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-9X5
  xpos 1360
  ypos -132
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 9
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 5
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9d266400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9d266400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9d612800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9d611c00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9d611800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9d611400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9d611000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9d610c00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9d610c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9d611000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9d611400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9d611800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9d611c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9d612800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9d561000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9d560c00 [stack 0]
push $N9d560c00
push $N9d561000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9d560800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9d560400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9d50b800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9d50a000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9d50a000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9d508800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9d4b7800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9d4b7400 [stack 0]
push $N9d50b800
push $N9d4b7800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9d4b7000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9d560400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9d4b7000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9d4b5400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9d560800
push $N9d4b5400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9d4b7400
push $N9d508800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9d2ea400 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-8X5
  xpos 1240
  ypos -132
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 8
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 5
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9d11c400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9d11c400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9d0cc800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9d087800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9d087400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9d087000 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9d086c00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9d086800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9d086800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9d086c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9d087000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9d087400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9d087800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9d0cc800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9cfc2c00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9cfc2800 [stack 0]
push $N9cfc2800
push $N9cfc2c00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9cfc2400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9cfc2000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9cfc1800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9cf83c00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9cf83c00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9cf82400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9cf81800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9cf81400 [stack 0]
push $N9cfc1800
push $N9cf81800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9cf81000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9cfc2000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9cf81000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9d32b000 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9cfc2400
push $N9d32b000
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9cf81400
push $N9cf82400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9d17c100 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-7X5
  xpos 1120
  ypos -132
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 7
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 5
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9cba2000 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9cba2000
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9cf42400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9cf41800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9cf41400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9cf41000 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9cf40c00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9cf40800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9cf40800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9cf40c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9cf41000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9cf41400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9cf41800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9cf42400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9ce8cc00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9ce8c800 [stack 0]
push $N9ce8c800
push $N9ce8cc00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9ce8c400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9d23bc00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9d23b400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9d239c00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9d239c00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9d238400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9d1f3400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9d1f3000 [stack 0]
push $N9d23b400
push $N9d1f3400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9d1f2c00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9d23bc00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9d1f2c00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9d1f1000 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9ce8c400
push $N9d1f1000
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9d1f3000
push $N9d238400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9cc0dd00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-6X5
  xpos 1000
  ypos -132
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 6
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 5
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9ce0bc00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9ce0bc00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9ce08400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9cdb7400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9cdb7000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9cdb6c00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9cdb6800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9cdb6400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9cdb6400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9cdb6800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9cdb6c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9cdb7000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9cdb7400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9ce08400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9ccf2800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9ccf2400 [stack 0]
push $N9ccf2400
push $N9ccf2800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9ccf2000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9ccf1c00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9ccf1400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9ccb3800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9ccb3800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9ccb2000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9ccb1400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9ccb1000 [stack 0]
push $N9ccf1400
push $N9ccb1400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9ccb0c00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9ccf1c00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9ccb0c00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9cc62c00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9ccf2000
push $N9cc62c00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9ccb1000
push $N9ccb2000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9ca67900 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-5X5
  xpos 880
  ypos -132
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 5
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 5
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9c8d9c00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9c8d9c00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9c876000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9c875400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9c875000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9c874c00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9c874800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9c874400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9c874400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9c874800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9c874c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9c875000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9c875400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9c876000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9c7c8800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9c7c8400 [stack 0]
push $N9c7c8400
push $N9c7c8800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9c773c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9c773800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9c773000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9c771800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9c771800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9cb17c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9cb17000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9cb16c00 [stack 0]
push $N9c773000
push $N9cb17000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9cb16800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9c773800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9cb16800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9cb14c00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9c773c00
push $N9cb14c00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9cb16c00
push $N9cb17c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9c949600 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-4X5
  xpos 760
  ypos -132
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 4
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 5
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9c73f800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9c73f800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9c6f3c00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9c6f3000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9c6f2c00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9c6f2800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9c6f2400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9c6f2000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9c6f2000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9c6f2400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9c6f2800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9c6f2c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9c6f3000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9c6f3c00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9ca2a400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9ca2a000 [stack 0]
push $N9ca2a000
push $N9ca2a400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9ca29c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9ca29800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9ca29000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9c9eb400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9c9eb400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9c9e9c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9c9e9000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9c9e8c00 [stack 0]
push $N9ca29000
push $N9c9e9000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9c9e8800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9ca29800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9c9e8800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9c992800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9ca29c00
push $N9c992800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9c9e8c00
push $N9c9e9c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9c3c7200 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-3X5
  xpos 640
  ypos -132
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 3
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 5
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9c609800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9c609800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9c5adc00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9c5ad000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9c5acc00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9c5ac800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9c5ac400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9c57bc00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9c57bc00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9c5ac400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9c5ac800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9c5acc00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9c5ad000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9c5adc00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9c4fc400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9c497c00 [stack 0]
push $N9c497c00
push $N9c4fc400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9c497800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9c497400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9c496c00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9c495400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9c495400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9c45f800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9c45ec00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9c45e800 [stack 0]
push $N9c496c00
push $N9c45ec00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9c45e400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9c497400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9c45e400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9c45c800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9c497800
push $N9c45c800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9c45e800
push $N9c45f800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9c274f00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-2X5
  xpos 520
  ypos -132
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 2
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 5
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9c06f400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9c06f400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9c02b800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9c02ac00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9c02a800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9c02a400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9c02a000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9c029c00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9c029c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9c02a000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9c02a400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9c02a800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9c02ac00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9c02b800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9bf6a000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9bf69c00 [stack 0]
push $N9bf69c00
push $N9bf6a000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9bf69800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9bf69400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9bf68c00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9c317000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9c317000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9c315800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9c314c00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9c314800 [stack 0]
push $N9bf68c00
push $N9c314c00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9c314400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9bf69400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9c314400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9c2ca400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9bf69800
push $N9c2ca400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9c314800
push $N9c315800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9c106b00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-1X5
  xpos 400
  ypos -132
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 1
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 5
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9bf35400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9bf35400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9bedd800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9bedcc00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9bedc800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9bedc400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9be9fc00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9be9f800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9be9f800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9be9fc00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9bedc400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9bedc800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9bedcc00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9bedd800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9c1d3c00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9c1d3800 [stack 0]
push $N9c1d3800
push $N9c1d3c00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9c1d3400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9c1d3000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9c1d2800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9c1d1000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9c1d1000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9c197400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9c196800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9c196400 [stack 0]
push $N9c1d2800
push $N9c196800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9c196000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9c1d3000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9c196000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9c194400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9c1d3400
push $N9c194400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9c196400
push $N9c197400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9bbb0800 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-9X4
  xpos 1360
  ypos -52
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 9
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 4
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9bda7000 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9bda7000
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9bd63400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9bd62800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9bd62400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9bd62000 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9bd61c00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9bd61800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9bd61800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9bd61c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9bd62000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9bd62400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9bd62800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9bd63400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9bca1c00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9bca1800 [stack 0]
push $N9bca1800
push $N9bca1c00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9bca1400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9bca1000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9bca0800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9bc4ac00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9bc4ac00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9bc49400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9bc48800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9bc48400 [stack 0]
push $N9bca0800
push $N9bc48800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9bbf7c00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9bca1000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9bbf7c00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9bbf6000 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9bca1400
push $N9bbf6000
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9bc48400
push $N9bc49400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9be42400 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-8X4
  xpos 1240
  ypos -52
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 8
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 4
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9b875000 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9b875000
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9b819400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9b818800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9b818400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9b7cfc00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9b7cf800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9b7cf400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9b7cf400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9b7cf800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9b7cfc00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9b818400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9b818800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9b819400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9baff800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9baff400 [stack 0]
push $N9baff400
push $N9baff800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9baff000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9bafec00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9bafe400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9bafcc00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9bafcc00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9bad3000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9bad2400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9bad2000 [stack 0]
push $N9bafe400
push $N9bad2400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9bad1c00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9bafec00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9bad1c00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9ba6fc00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9baff000
push $N9ba6fc00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9bad2000
push $N9bad3000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9b8d4100 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-7X4
  xpos 1120
  ypos -52
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 7
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 4
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9b6eac00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9b6eac00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9b6a3000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9b6a2400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9b6a2000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9b6a1c00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9b6a1800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9b6a1400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9b6a1400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9b6a1800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9b6a1c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9b6a2000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9b6a2400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9b6a3000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9b9d9800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9b9d9400 [stack 0]
push $N9b9d9400
push $N9b9d9800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9b9d9000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9b9d8c00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9b9d8400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9b986800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9b986800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9b985000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9b984400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9b93bc00 [stack 0]
push $N9b9d8400
push $N9b984400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9b93b800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9b9d8c00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9b93b800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9b939c00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9b9d9000
push $N9b939c00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9b93bc00
push $N9b985000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9b381d00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-6X4
  xpos 1000
  ypos -52
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 6
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 4
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9b5a8c00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9b5a8c00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9b545000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9b544400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9b507c00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9b507800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9b507400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9b507000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9b507000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9b507400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9b507800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9b507c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9b544400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9b545000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9b437400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9b437000 [stack 0]
push $N9b437000
push $N9b437400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9b436c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9b436800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9b436000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9b434800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9b434800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9b3f6c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9b3f6000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9b3f5c00 [stack 0]
push $N9b436000
push $N9b3f6000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9b3f5800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9b436800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9b3f5800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9b3a7800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9b436c00
push $N9b3a7800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9b3f5c00
push $N9b3f6c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9b5bf900 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-5X4
  xpos 880
  ypos -52
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 5
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 4
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9b016800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9b016800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9afcac00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9afca000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9afc9c00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9afc9800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9afc9400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9afc9000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9afc9000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9afc9400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9afc9800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9afc9c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9afca000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9afcac00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9b309400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9b309000 [stack 0]
push $N9b309000
push $N9b309400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9b308c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9b308800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9b2bbc00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9b2ba400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9b2ba400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9b2b8c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9b273c00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9b273800 [stack 0]
push $N9b2bbc00
push $N9b273c00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9b273400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9b308800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9b273400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9b271800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9b308c00
push $N9b271800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9b273800
push $N9b2b8c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9b09d600 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-4X4
  xpos 760
  ypos -52
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 4
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 4
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9aecc800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9aecc800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9ae90c00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9b23bc00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9b23b800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9b23b400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9b23b000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9b23ac00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9b23ac00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9b23b000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9b23b400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9b23b800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9b23bc00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9ae90c00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9b17b000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9b17ac00 [stack 0]
push $N9b17ac00
push $N9b17b000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9b17a800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9b17a400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9b179c00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9b178400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9b178400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9b126800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9b125c00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9b125800 [stack 0]
push $N9b179c00
push $N9b125c00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9b125400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9b17a400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9b125400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9b0db400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9b17a800
push $N9b0db400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9b125800
push $N9b126800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9af23200 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-3X4
  xpos 640
  ypos -52
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 3
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 4
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9ad46400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9ad46400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9acf6800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9acf5c00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9acf5800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9acf5400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9acf5000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9acf4c00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9acf4c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9acf5000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9acf5400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9acf5800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9acf5c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9acf6800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9ac41000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9ac40c00 [stack 0]
push $N9ac40c00
push $N9ac41000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9ac40800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9ac40400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9abf3800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9abf2000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9abf2000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9abf0800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9aba7800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9aba7400 [stack 0]
push $N9abf3800
push $N9aba7800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9aba7000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9ac40400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9aba7000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9aba5400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9ac40800
push $N9aba5400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9aba7400
push $N9abf0800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9add8f00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-2X4
  xpos 520
  ypos -52
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 2
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 4
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9a808400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9a808400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9a7c8800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9a76f800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9a76f400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9a76f000 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9a76ec00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9a76e800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9a76e800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9a76ec00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9a76f000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9a76f400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9a76f800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9a7c8800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9aaa6c00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9aaa6800 [stack 0]
push $N9aaa6800
push $N9aaa6c00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9aaa6400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9aaa6000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9aaa5800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9aa6bc00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9aa6bc00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9aa6a400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9aa69800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9aa69400 [stack 0]
push $N9aaa5800
push $N9aa69800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9aa69000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9aaa6000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9aa69000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9ae13000 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9aaa6400
push $N9ae13000
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9aa69400
push $N9aa6a400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9a866b00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-1X4
  xpos 400
  ypos -52
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 1
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 4
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9a692000 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9a692000
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9aa32400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9aa31800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9aa31400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9aa31000 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9aa30c00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9aa30800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9aa30800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9aa30c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9aa31000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9aa31400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9aa31800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9aa32400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9a980c00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9a980800 [stack 0]
push $N9a980800
push $N9a980c00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9a980400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9a91fc00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9a91f400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9a91dc00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9a91dc00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9a91c400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9a8df400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9a8df000 [stack 0]
push $N9a91f400
push $N9a8df400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9a8dec00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9a91fc00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9a8dec00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9a8dd000 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9a980400
push $N9a8dd000
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9a8df000
push $N9a91c400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9a704800 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-9X3
  xpos 1360
  ypos 28
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 9
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 3
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9a4fbc00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9a4fbc00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9a4f8400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9a4a7400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9a4a7000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9a4a6c00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9a4a6800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9a4a6400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9a4a6400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9a4a6800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9a4a6c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9a4a7000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9a4a7400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9a4f8400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9a3d6800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9a3d6400 [stack 0]
push $N9a3d6400
push $N9a3d6800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9a3d6000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9a3d5c00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9a3d5400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9a38f800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9a38f800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9a38e000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9a38d400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9a38d000 [stack 0]
push $N9a3d5400
push $N9a38d400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9a38cc00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9a3d5c00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9a38cc00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9a74ac00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9a3d6000
push $N9a74ac00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9a38d000
push $N9a38e000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9a596400 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-8X3
  xpos 1240
  ypos 28
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 8
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 3
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N99fc9c00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N99fc9c00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N99f6a000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N99f69400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N99f69000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N99f68c00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N99f68800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N99f68400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N99f68400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N99f68800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N99f68c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N99f69000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N99f69400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N99f6a000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9a2b4800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9a2b4400 [stack 0]
push $N9a2b4400
push $N9a2b4800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9a257c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9a257800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9a257000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9a255800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9a255800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9a613c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9a613000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9a612c00 [stack 0]
push $N9a257000
push $N9a613000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9a612800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9a257800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9a612800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9a610c00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9a257c00
push $N9a610c00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9a612c00
push $N9a613c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9a02c100 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-7X3
  xpos 1120
  ypos 28
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 7
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 3
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9a233800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9a233800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9a1e3c00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9a1e3000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9a1e2c00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9a1e2800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9a1e2400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9a1e2000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9a1e2000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9a1e2400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9a1e2800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9a1e2c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9a1e3000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9a1e3c00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9a116400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9a116000 [stack 0]
push $N9a116000
push $N9a116400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9a115c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9a115800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9a115000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9a0d3400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9a0d3400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9a0d1c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9a0d1000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9a0d0c00 [stack 0]
push $N9a115000
push $N9a0d1000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9a0d0800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9a115800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9a0d0800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9a08a800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9a115c00
push $N9a08a800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9a0d0c00
push $N9a0d1c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N99ec5d00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-6X3
  xpos 1000
  ypos 28
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 6
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 3
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N99cf1800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N99cf1800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N99c95c00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N99c95000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N99c94c00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N99c94800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N99c94400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N99c63c00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N99c63c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N99c94400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N99c94800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N99c94c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N99c95000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N99c95c00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N99be8400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N99b8fc00 [stack 0]
push $N99b8fc00
push $N99be8400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N99b8f800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N99b8f400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N99b8ec00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N99b8d400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N99b8d400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N99f3f800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N99f3ec00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N99f3e800 [stack 0]
push $N99b8ec00
push $N99f3ec00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N99f3e400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N99b8f400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N99f3e400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N99f3c800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N99b8f800
push $N99f3c800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N99f3e800
push $N99f3f800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N99d0f900 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-5X3
  xpos 880
  ypos 28
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 5
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 3
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9976b400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9976b400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N99b13800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N99b12c00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N99b12800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N99b12400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N99b12000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N99b11c00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N99b11c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N99b12000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N99b12400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N99b12800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N99b12c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N99b13800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N99e3e000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N99e3dc00 [stack 0]
push $N99e3dc00
push $N99e3e000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N99e3d800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N99e3d400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N99e3cc00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N99dff000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N99dff000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N99dfd800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N99dfcc00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N99dfc800 [stack 0]
push $N99e3cc00
push $N99dfcc00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N99dfc400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N99e3d400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N99dfc400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N99db2400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N99e3d800
push $N99db2400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N99dfc800
push $N99dfd800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N99801600 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-4X3
  xpos 760
  ypos 27
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 4
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 3
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N99a1d400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N99a1d400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N999cd800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N999ccc00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N999cc800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N999cc400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9998fc00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9998f800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   selected true
   xpos -560
   ypos 231
  }
push $N9998f800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9998fc00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N999cc400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N999cc800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N999ccc00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N999cd800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N998bfc00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N998bf800 [stack 0]
push $N998bf800
push $N998bfc00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N998bf400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N998bf000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N998be800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N998bd000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N998bd000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9987f400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9987e800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9987e400 [stack 0]
push $N998be800
push $N9987e800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N9987e000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N998bf000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N9987e000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N9987c400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N998bf400
push $N9987c400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9987e400
push $N9987f400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9968b200 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-3X3
  xpos 640
  ypos 28
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 3
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 3
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N994a3000 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N994a3000
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9943f400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9943e800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9943e400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9943e000 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9943dc00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9943d800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9943d800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9943dc00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9943e000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9943e400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9943e800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9943f400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N99385c00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N99385800 [stack 0]
push $N99385800
push $N99385c00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N99385400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N99385000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N99384800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N99736c00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N99736c00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N99735400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N99734800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N99734400 [stack 0]
push $N99384800
push $N99734800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N996dfc00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N99385000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N996dfc00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N996de000 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N99385400
push $N996de000
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N99734400
push $N99735400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N99528f00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-2X3
  xpos 520
  ypos 28
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 2
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 3
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N98f61000 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N98f61000
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N99305400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N99304800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N99304400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N992cbc00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N992cb800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N992cb400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N992cb400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N992cb800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N992cbc00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N99304400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N99304800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N99305400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N995ef800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N995ef400 [stack 0]
push $N995ef400
push $N995ef800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N995ef000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N995eec00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N995ee400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N995ecc00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N995ecc00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N995bb000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N995ba400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N995ba000 [stack 0]
push $N995ee400
push $N995ba400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N995b9c00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N995eec00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N995b9c00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N99563c00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N995ef000
push $N99563c00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N995ba000
push $N995bb000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N98fbeb00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-1X3
  xpos 400
  ypos 28
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 1
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 3
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N991cac00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N991cac00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N99183000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N99182400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N99182000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N99181c00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N99181800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N99181400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N99181400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N99181800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N99181c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N99182000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N99182400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N99183000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N990bd800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N990bd400 [stack 0]
push $N990bd400
push $N990bd800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N990bd000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N990bcc00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N990bc400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9906e800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9906e800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9906d000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9906c400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N99023c00 [stack 0]
push $N990bc400
push $N9906c400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N99023800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N990bcc00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N99023800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N99021c00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N990bd000
push $N99021c00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N99023c00
push $N9906d000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N98e5c800 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-9X2
  xpos 1360
  ypos 108
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 9
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 2
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N98c8cc00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N98c8cc00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N98c39000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N98c38400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N98befc00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N98bef800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N98bef400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N98bef000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N98bef000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N98bef400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N98bef800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N98befc00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N98c38400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N98c39000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N98f23400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N98f23000 [stack 0]
push $N98f23000
push $N98f23400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N98f22c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N98f22800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N98f22000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N98f20800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N98f20800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N98eeac00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N98eea000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N98ee9c00 [stack 0]
push $N98f22000
push $N98eea000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N98ee9800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N98f22800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N98ee9800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N98e8f800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N98f22c00
push $N98e8f800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N98ee9c00
push $N98eeac00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N98cf2400 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-8X2
  xpos 1240
  ypos 108
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 8
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 2
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N98af6800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N98af6800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N98ab2c00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N98ab2000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N98ab1c00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N98ab1800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N98ab1400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N98ab1000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N98ab1000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N98ab1400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N98ab1800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N98ab1c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N98ab2000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N98ab2c00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N98df5400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N98df5000 [stack 0]
push $N98df5000
push $N98df5400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N98df4c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N98df4800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N98d9fc00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N98d9e400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N98d9e400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N98d9cc00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N98d5bc00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N98d5b800 [stack 0]
push $N98d9fc00
push $N98d5bc00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N98d5b400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N98df4800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N98d5b400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N98d59800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N98df4c00
push $N98d59800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N98d5b800
push $N98d9cc00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9878c100 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-7X2
  xpos 1120
  ypos 108
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 7
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 2
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N989c4800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N989c4800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N98980c00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9892bc00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9892b800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9892b400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9892b000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9892ac00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9892ac00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9892b000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9892b400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9892b800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9892bc00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N98980c00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9885f000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9885ec00 [stack 0]
push $N9885ec00
push $N9885f000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9885e800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9885e400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N9885dc00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9885c400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9885c400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N98822800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N98821c00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N98821800 [stack 0]
push $N9885dc00
push $N98821c00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N98821400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9885e400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N98821400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N987c7400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9885e800
push $N987c7400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N98821800
push $N98822800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N98a29d00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-6X2
  xpos 1000
  ypos 108
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 6
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 2
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N98436400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N98436400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N983ea800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N983e9c00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N983e9800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N983e9400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N983e9000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N983e8c00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N983e8c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N983e9000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N983e9400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N983e9800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N983e9c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N983ea800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N98731000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N98730c00 [stack 0]
push $N98730c00
push $N98731000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N98730800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N98730400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N986d7800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N986d6000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N986d6000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N986d4800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N98693800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N98693400 [stack 0]
push $N986d7800
push $N98693800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N98693000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N98730400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N98693000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N98691400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N98730800
push $N98691400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N98693400
push $N986d4800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9846f900 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-5X2
  xpos 880
  ypos 108
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 5
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 2
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N982f4400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N982f4400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N982ac800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N9825f800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N9825f400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N9825f000 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N9825ec00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N9825e800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N9825e800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N9825ec00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N9825f000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N9825f400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N9825f800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N982ac800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9859ac00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9859a800 [stack 0]
push $N9859a800
push $N9859ac00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N9859a400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N9859a000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N98599800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N98557c00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N98557c00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N98556400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N98555800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N98555400 [stack 0]
push $N98599800
push $N98555800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N98555000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N9859a000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N98555000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N984ff000 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N9859a400
push $N984ff000
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N98555400
push $N98556400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N97f61600 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-4X2
  xpos 760
  ypos 108
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 4
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 2
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9817a000 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9817a000
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N9811a400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N98119800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N98119400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N98119000 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N98118c00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N98118800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N98118800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N98118c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N98119000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N98119400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N98119800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N9811a400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N98068c00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N98068800 [stack 0]
push $N98068800
push $N98068c00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N98068400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N98013c00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N98013400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N98011c00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N98011c00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N98010400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N97fbf400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N97fbf000 [stack 0]
push $N98013400
push $N97fbf400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N97fbec00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N98013c00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N97fbec00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N97fbd000 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N98068400
push $N97fbd000
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N97fbf000
push $N98010400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N981db200 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-3X2
  xpos 640
  ypos 108
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 3
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 2
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N97be3c00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N97be3c00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N97be0400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N97b8f400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N97b8f000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N97b8ec00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N97b8e800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N97b8e400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N97b8e400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N97b8e800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N97b8ec00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N97b8f000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N97b8f400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N97be0400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N97ebe800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N97ebe400 [stack 0]
push $N97ebe400
push $N97ebe800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N97ebe000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N97ebdc00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N97ebd400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N97e8b800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N97e8b800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N97e8a000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N97e89400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N97e89000 [stack 0]
push $N97ebd400
push $N97e89400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N97e88c00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N97ebdc00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N97e88c00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N98232c00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N97ebe000
push $N98232c00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N97e89000
push $N97e8a000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N97c88f00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-2X2
  xpos 520
  ypos 108
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 2
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 2
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N97aa9c00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N97aa9c00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N97a5a000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N97a59400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N97a59000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N97a58c00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N97a58800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N97a58400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N97a58400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N97a58800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N97a58c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N97a59000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N97a59400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N97a5a000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N97da0800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N97da0400 [stack 0]
push $N97da0400
push $N97da0800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N97d37c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N97d37800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N97d37000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N97d35800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N97d35800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N97cfbc00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N97cfb000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N97cfac00 [stack 0]
push $N97d37000
push $N97cfb000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N97cfa800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N97d37800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N97cfa800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N97cf8c00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N97d37c00
push $N97cf8c00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N97cfac00
push $N97cfbc00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N97b22b00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-1X2
  xpos 400
  ypos 108
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 1
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 2
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9791b800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9791b800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N978cbc00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N978cb000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N978cac00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N978ca800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N978ca400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N978ca000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N978ca000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N978ca400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N978ca800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N978cac00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N978cb000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N978cbc00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9780a400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N9780a000 [stack 0]
push $N9780a000
push $N9780a400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N97809c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N97809800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N97809000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N977cb400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N977cb400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N977c9c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N977c9000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N977c8c00 [stack 0]
push $N97809000
push $N977c9000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N977c8800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N97809800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N977c8800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N97772800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N97809c00
push $N97772800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N977c8c00
push $N977c9c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N979b4800 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-9X1
  xpos 1360
  ypos 188
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 9
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 1
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N973d5800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N973d5800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N97385c00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N97385000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N97384c00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N97384800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N97384400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N97743c00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N97743c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N97384400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N97384800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N97384c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N97385000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N97385c00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N976d4400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N97677c00 [stack 0]
push $N97677c00
push $N976d4400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N97677800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N97677400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N97676c00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N97675400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N97675400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N97a3b800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N97a3ac00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N97a3a800 [stack 0]
push $N97676c00
push $N97a3ac00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N97a3a400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N97677400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N97a3a400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N97a38800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N97677800
push $N97a38800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N97a3a800
push $N97a3b800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9745a400 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-8X1
  xpos 1240
  ypos 188
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 8
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 1
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N97647400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N97647400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N975f7800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N975f6c00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N975f6800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N975f6400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N975f6000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N975f5c00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N975f5c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N975f6000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N975f6400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N975f6800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N975f6c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N975f7800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N9753a000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N97539c00 [stack 0]
push $N97539c00
push $N9753a000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N97539800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N97539400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N97538c00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N974e7000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N974e7000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N974e5800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N974e4c00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N974e4800 [stack 0]
push $N97538c00
push $N974e4c00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N974e4400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N97539400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N974e4400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N974a2400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N97539800
push $N974a2400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N974e4800
push $N974e5800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N972f0100 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-7X1
  xpos 1120
  ypos 188
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 7
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 1
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9710d400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9710d400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N970c1800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N970c0c00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N970c0800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N970c0400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N97077c00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N97077800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N97077800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N97077c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N970c0400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N970c0800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N970c0c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N970c1800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N96fa7c00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N96fa7800 [stack 0]
push $N96fa7800
push $N96fa7c00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N96fa7400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N96fa7000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N96fa6800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N96fa5000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N96fa5000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N96f67400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N96f66800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N96f66400 [stack 0]
push $N96fa6800
push $N96f66800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N96f66000 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N96fa7000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N96f66000
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N96f64400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N96fa7400
push $N96f64400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N96f66400
push $N96f67400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N9717dd00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-6X1
  xpos 1000
  ypos 188
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 6
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 1
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N9462f000 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N9462f000
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N96f33400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N96f32800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N96f32400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N96f32000 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N96f31c00 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N96f31800 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N96f31800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N96f31c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N96f32000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N96f32400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N96f32800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N96f33400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N96e71c00 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N96e71800 [stack 0]
push $N96e71800
push $N96e71c00
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N96e71400 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N96e71000 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N96e70800 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N9721ec00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N9721ec00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N9721d400 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N9721c800 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N9721c400 [stack 0]
push $N96e70800
push $N9721c800
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N971cfc00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N96e71000
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N971cfc00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N971ce000 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N96e71400
push $N971ce000
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N9721c400
push $N9721d400
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N94677900 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-5X1
  xpos 880
  ypos 188
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 5
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 1
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N96e3d000 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N96e3d000
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N96ded400 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N96dec800 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N96dec400 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N96dafc00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N96daf800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N96daf400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N96daf400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N96daf800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N96dafc00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N96dec400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N96dec800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N96ded400
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N96ce3800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N96ce3400 [stack 0]
push $N96ce3400
push $N96ce3800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N96ce3000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N96ce2c00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N96ce2400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N96ce0c00 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N96ce0c00
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N96ca3000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N96ca2400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N96ca2000 [stack 0]
push $N96ce2400
push $N96ca2400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N96ca1c00 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N96ce2c00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N96ca1c00
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N946fbc00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N96ce3000
push $N946fbc00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N96ca2000
push $N96ca3000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N94561600 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-4X1
  xpos 760
  ypos 188
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 4
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 1
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N6e1c6c00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N6e1c6c00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N6e17f000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N6e17e400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N6e17e000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N6e17dc00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N6e17d800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N6e17d400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N6e17d400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N6e17d800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N6e17dc00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N6e17e000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N6e17e400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N6e17f000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N6e0c1800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N6e0c1400 [stack 0]
push $N6e0c1400
push $N6e0c1800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N6e0c1000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N6e0c0c00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N6e0c0400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N6e06e800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N6e06e800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N6e06d000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N6e06c400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N945c3c00 [stack 0]
push $N6e0c0400
push $N6e06c400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N945c3800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N6e0c0c00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N945c3800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N945c1c00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N6e0c1000
push $N945c1c00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N945c3c00
push $N6e06d000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N6e243200 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-3X1
  xpos 640
  ypos 188
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 3
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 1
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N4c64c00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N4c64c00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N6e035000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N6e034400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N6dfefc00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N6dfef800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N6dfef400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N6dfef000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N6dfef000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N6dfef400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N6dfef800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N6dfefc00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N6e034400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N6e035000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N944c3400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N944c3000 [stack 0]
push $N944c3000
push $N944c3400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N944c2c00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N944c2800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N944c2000 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N944c0800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N944c0800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N94486c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N94486000 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N94485c00 [stack 0]
push $N944c2000
push $N94486000
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N94485800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N944c2800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N94485800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N94433800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N944c2c00
push $N94433800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N94485c00
push $N94486c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N4cd0f00 [stack 0]
push 0
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-2X1
  xpos 520
  ypos 188
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 2
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 1
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N6df02800 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N6df02800
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N6deaac00 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N6deaa000 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N6dea9c00 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N6dea9800 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N6dea9400 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N6dea9000 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N6dea9000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N6dea9400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N6dea9800
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N6dea9c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N6deaa000
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N6deaac00
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N4dcd400 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N4dcd000 [stack 0]
push $N4dcd000
push $N4dcd400
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N4dccc00 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N4dcc800 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N4d77c00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N4d76400 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N4d76400
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N4d74c00 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N4d3bc00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N4d3b800 [stack 0]
push $N4d77c00
push $N4d3bc00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N4d3b400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N4dcc800
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N4d3b400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N4d39800 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N4dccc00
push $N4d39800
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N4d3b800
push $N4d74c00
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N4b66b00 [stack 0]
push $N9777dc00
push $N98fe4800
 Group {
  inputs 2
  name Temp_Defocus-1X1
  xpos 400
  ypos 188
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 1
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 1
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 9
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 7
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N4e8f400 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N4e8f400
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N5013800 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N5012c00 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N5012800 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N5012400 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N5012000 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N5011c00 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N5011c00
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N5012000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N5012400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N5012800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N5012c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N5013800
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N4f5a000 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N4f59c00 [stack 0]
push $N4f59c00
push $N4f5a000
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N4f59800 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N4f59400 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N4f58c00 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N4c0b000 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N4c0b000
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N4c09800 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N4c08c00 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N4c08800 [stack 0]
push $N4f58c00
push $N4c08c00
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N4c08400 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N4f59400
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N4c08400
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N4bba400 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N4f59800
push $N4bba400
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N4c08800
push $N4c09800
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
set N4f30800 [stack 0]
 Merge2 {
  inputs 63+1
  operation max
  also_merge origAlpha
  name Cropped_Defocus_Merge
  xpos 320
  ypos 628
 }
set N464c800 [stack 0]
 Switch {
  inputs 2
  which {{"!(catEnable || radStretchEnable || mattebEnable || fcEnable)"}}
  name Switch4
  xpos 320
  ypos 708
 }
 Shuffle {
  in2 origAlpha
  alpha red2
  name Shuffle8
  xpos 320
  ypos 788
 }
 Dot {
  name Dot36
  xpos 352
  ypos 832
 }
set N45df800 [stack 0]
 Dot {
  name Dot37
  xpos 112
  ypos 832
 }
 Dot {
  name Dot14
  xpos 112
  ypos 2712
 }
push $Na0026400
push $N9fed0100
push $N9fd69d00
push $N9f7b3900
push $N9f699600
push $N9f51b200
push $N9efbcf00
push $N9ee5eb00
push $N9ecec800
push $N9e792400
push $N9ea28100
push $N9e4c1d00
push $N9e307900
push $N9e1ed600
push $N9dc6f200
push $N9db14f00
push $N9d9aeb00
push $N9d444800
push $N9d2ea400
push $N9d17c100
push $N9cc0dd00
push $N9ca67900
push $N9c949600
push $N9c3c7200
push $N9c274f00
push $N9c106b00
push $N9bbb0800
push $N9be42400
push $N9b8d4100
push $N9b381d00
push $N9b5bf900
push $N9b09d600
push $N9af23200
push $N9add8f00
push $N9a866b00
push $N9a704800
push $N9a596400
push $N9a02c100
push $N99ec5d00
push $N99d0f900
push $N99801600
push $N9968b200
push $N99528f00
push $N98fbeb00
push $N98e5c800
push $N98cf2400
push $N9878c100
push $N98a29d00
push $N9846f900
push $N97f61600
push $N981db200
push $N97c88f00
push $N97b22b00
push $N979b4800
push $N9745a400
push $N972f0100
push $N9717dd00
push $N94677900
push $N94561600
push $N6e243200
push $N4cd0f00
push $N4b66b00
push $N4f30800
 ContactSheet {
  inputs 63
  width {{xSlices*128}}
  height {{ySlices*128}}
  rows {{ySlices}}
  columns {{xSlices}}
  center true
  name KernelContactSheet
  xpos 120
  ypos 628
 }
 Dot {
  name Dot33
  xpos 152
  ypos 2672
 }
push $N9777dc00
 Dot {
  name Dot31
  xpos -48
  ypos -608
 }
set N45de400 [stack 0]
 Dot {
  name Dot32
  xpos -48
  ypos 2752
 }
push $N9777d800
 NoOp {
  name NoOp1
  label "Image Input"
  xpos 200
  ypos 2624
  hide_input true
 }
push $N45df800
 Gamma {
  channels rgb
  value {{1/preGamma}}
  name Gamma2
  label "Reverse Gamma"
  xpos 320
  ypos 864
  cached true
  disable {{!preEnable}}
 }
 Reformat {
  type scale
  scale {{subSample+1}}
  name Reformat5
  xpos 320
  ypos 948
 }
 Dot {
  name Dot8
  xpos 352
  ypos 1152
 }
set N45dcc00 [stack 0]
 Dot {
  name Dot9
  xpos 512
  ypos 1152
 }
 NoTimeBlur {
  name NoTimeBlur1
  xpos 480
  ypos 1188
 }
 Dot {
  name Dot10
  xpos 512
  ypos 1232
 }
set N459fc00 [stack 0]
 Dot {
  name Dot11
  xpos 592
  ypos 1232
 }
set N459f800 [stack 0]
 Dot {
  name Dot12
  xpos 672
  ypos 1232
 }
set N459f400 [stack 0]
 Dot {
  name Dot16
  xpos 952
  ypos 1232
 }
set N459f000 [stack 0]
 Dot {
  name Dot17
  xpos 1032
  ypos 1232
 }
set N459ec00 [stack 0]
 Dot {
  name Dot18
  xpos 1112
  ypos 1232
 }
 Transform {
  scale {{"((frame % 1)*(caScale*0.1))-(caScale*0.05)+1"}}
  center {{width/2} {height/2}}
  name Transform7
  xpos 1080
  ypos 1268
 }
 Transform {
  scale {{(abs(caScale)*0.05)+1}}
  center {{width/2} {height/2}}
  name Transform8
  xpos 1080
  ypos 1308
 }
 Shuffle {
  red black
  green black
  name Shuffle7
  xpos 1080
  ypos 1350
 }
push $N459ec00
 Transform {
  scale {{"((frame % 1)*(caScale*0.1))-(caScale*0.05)+1"}}
  center {{width/2} {height/2}}
  name Transform9
  xpos 1000
  ypos 1268
 }
 Transform {
  scale {{(abs(caScale)*0.05)+1}}
  center {{width/2} {height/2}}
  name Transform10
  xpos 1000
  ypos 1308
 }
 Shuffle {
  red black
  blue black
  name Shuffle6
  xpos 1000
  ypos 1349
 }
push $N459f000
 Transform {
  scale {{"((frame % 1)*(caScale*0.1))-(caScale*0.05)+1"}}
  center {{width/2} {height/2}}
  name Transform11
  xpos 920
  ypos 1268
 }
 Transform {
  scale {{(abs(caScale)*0.05)+1}}
  center {{width/2} {height/2}}
  name Transform12
  xpos 920
  ypos 1308
 }
 Shuffle {
  green black
  blue black
  name Shuffle4
  xpos 920
  ypos 1347
 }
push 0
 Merge2 {
  inputs 2
  operation plus
  mix {{"1-(frame % 1)"}}
  name Merge4
  xpos 920
  ypos 1388
 }
 Merge2 {
  inputs 2
  operation plus
  mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
  name Merge5
  xpos 1000
  ypos 1388
 }
 Merge2 {
  inputs 2
  operation plus
  mix {{"1-(frame % 1)"}}
  name Merge6
  xpos 1080
  ypos 1388
 }
 TimeBlur {
  divisions {{caDivisions*3}}
  shutter 1.001
  shutteroffset start
  shuttercustomoffset 0
  name TimeBlur2
  xpos 1080
  ypos 1428
 }
 Grade {
  channels rgba
  whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
  name Grade4
  xpos 1080
  ypos 1468
 }
push $N459f400
 Transform {
  scale {{"((frame % 1)*(caScale*0.05))+(caScale*0.0)+1"}}
  center {{width/2} {height/2}}
  name Transform3
  xpos 640
  ypos 1268
 }
 Transform {
  scale {{(abs(caScale)*0.05)+1}}
  center {{width/2} {height/2}}
  name Transform6
  xpos 640
  ypos 1308
 }
 Shuffle {
  red black
  green black
  name Shuffle3
  xpos 640
  ypos 1350
 }
push $N459f800
 Transform {
  scale {{"((frame % 1)*(caScale*0.1))-(caScale*0.05)+1"}}
  center {{width/2} {height/2}}
  name Transform2
  xpos 560
  ypos 1268
 }
 Transform {
  scale {{(abs(caScale)*0.05)+1}}
  center {{width/2} {height/2}}
  name Transform5
  xpos 560
  ypos 1308
 }
 Shuffle {
  red black
  blue black
  name Shuffle2
  xpos 560
  ypos 1347
 }
push $N459fc00
 Transform {
  scale {{"((frame % 1)*(caScale*0.05))-(caScale*0.05)+1"}}
  center {{width/2} {height/2}}
  name Transform1
  xpos 480
  ypos 1268
 }
 Transform {
  scale {{(abs(caScale)*0.05)+1}}
  center {{width/2} {height/2}}
  name Transform4
  xpos 480
  ypos 1308
 }
 Shuffle {
  green black
  blue black
  name Shuffle5
  xpos 480
  ypos 1348
 }
push 0
 Merge2 {
  inputs 2
  operation plus
  mix {{"1-(frame % 1)"}}
  name Merge1
  xpos 480
  ypos 1388
 }
 Merge2 {
  inputs 2
  operation plus
  mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(caDivisions*3)):2-((frame % 1)*2)"}}
  name Merge2
  xpos 560
  ypos 1388
 }
 Merge2 {
  inputs 2
  operation plus
  mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
  name Merge3
  xpos 640
  ypos 1388
 }
 TimeBlur {
  divisions {{caDivisions*3}}
  shutter 1.001
  shutteroffset start
  shuttercustomoffset 0
  name TimeBlur1
  xpos 640
  ypos 1428
 }
 Grade {
  channels rgba
  whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
  name Grade3
  xpos 640
  ypos 1468
 }
 Dot {
  name Dot15
  xpos 672
  ypos 1512
 }
 Switch {
  inputs 2
  which {{caType}}
  name Switch3
  xpos 1080
  ypos 1508
 }
 Crop {
  box {0 0 {width} {height}}
  name Crop1
  xpos 1080
  ypos 1548
 }
 Dot {
  name Dot13
  xpos 1112
  ypos 1592
 }
push $N45dcc00
 Switch {
  inputs 2
  which {{caEnable}}
  name Switch2
  xpos 320
  ypos 1588
 }
 Dot {
  name Dot19
  xpos 352
  ypos 1752
 }
set N44d5800 [stack 0]
 Dot {
  name Dot20
  xpos 592
  ypos 1752
 }
set N44d5400 [stack 0]
 Dot {
  name Dot24
  xpos 752
  ypos 1752
 }
 Radial {
  area {{(width/2)-(Master_Data.inRadius*(1-comaCover))} {(height/2)-(Master_Data.inRadius*(1-comaCover))} {(width/2)+(Master_Data.inRadius*(1-comaCover))} {(height/2)+(Master_Data.inRadius*(1-comaCover))}}
  name Radial1
  xpos 720
  ypos 1908
 }
set N44d4c00 [stack 0]
 Dot {
  name Dot25
  xpos 752
  ypos 1992
 }
push $N44d5400
 NoTimeBlur {
  name NoTimeBlur2
  xpos 560
  ypos 1788
 }
 Dot {
  name Dot21
  xpos 592
  ypos 1832
 }
set N4487c00 [stack 0]
 Dot {
  name Dot22
  xpos 432
  ypos 1832
 }
 Dot {
  name Dot23
  xpos 432
  ypos 1992
 }
push $N44d4c00
push $N4487c00
 Transform {
  scale {{"((frame % 1)*(comaScale*0.1))+1"}}
  center {{width/2} {height/2}}
  name Transform13
  xpos 560
  ypos 1868
 }
 Blur {
  inputs 1+1
  channels rgba
  size {{"(frame % 1)*comaBlur*45"}}
  invert_mask true
  name Blur1
  xpos 560
  ypos 1908
 }
 TimeBlur {
  divisions {{comaDivisions}}
  shutter 1.0001
  shutteroffset start
  shuttercustomoffset 0
  name TimeBlur3
  xpos 560
  ypos 1948
 }
 Dissolve {
  inputs 2+1
  name Dissolve1
  xpos 560
  ypos 1984
 }
 Crop {
  box {0 0 {width} {height}}
  name Crop2
  xpos 560
  ypos 2028
 }
push $N44d5800
 Dissolve {
  inputs 2
  which {{comaFade}}
  name Dissolve2
  xpos 320
  ypos 2024
  disable {{!comaEnable}}
 }
 Dot {
  name Dot26
  xpos 352
  ypos 2192
 }
set N4485800 [stack 0]
 Dot {
  name Dot27
  xpos 632
  ypos 2192
 }
 Expression {
  temp_name0 scale
  temp_expr0 1/vigNatScale
  channel0 rgb
  expr0 pow(cos(hypot(cx*scale,cy*scale)),4)
  channel3 alpha
  name Expression1
  label "Natural Cos^4"
  xpos 600
  ypos 2224
 }
push $N4485800
 Merge2 {
  inputs 2
  operation multiply
  mix {{vigNatDensity}}
  name Merge7
  xpos 320
  ypos 2228
  disable {{!vigNatEnable}}
 }
 Dot {
  name Dot28
  xpos 352
  ypos 2272
 }
set N4484800 [stack 0]
 Dot {
  name Dot29
  xpos 632
  ypos 2272
 }
 AdjBBox {
  numpixels {{(width/2)*vigCircleSoft}}
  name AdjBBox1
  xpos 600
  ypos 2308
 }
 Radial {
  cliptype bbox
  replace true
  area {{(width/2)-(vigCircleSize*(width/2))} {(height/2)-(vigCircleSize*(width/2))} {(width/2)+(vigCircleSize*(width/2))} {(height/2)+(vigCircleSize*(width/2))}}
  softness 0
  name Radial2
  xpos 600
  ypos 2348
 }
 Blur {
  channels rgb
  size {{(width/2)*vigCircleSoft}}
  filter quadratic
  quality 10
  name Blur2
  xpos 600
  ypos 2388
 }
 Dot {
  name Dot30
  xpos 632
  ypos 2432
 }
push $N4484800
 Merge2 {
  inputs 2
  operation multiply
  bbox B
  name Merge8
  xpos 320
  ypos 2428
  disable {{!vigCircleEnable}}
 }
 Crop {
  box {0 0 {width} {height}}
  name Crop3
  xpos 320
  ypos 2548
 }
 Copy {
  inputs 2
  from0 depth.Z
  to0 depth.Z
  name Copy2
  xpos 320
  ypos 2624
  disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1" x240 0}}
 }
 Dot {
  name Dot2
  xpos 352
  ypos 2712
 }
 Switch {
  inputs 4
  which {{output}}
  name OutputSwitch
  xpos 320
  ypos 2788
 }
 Output {
  name Output1
  xpos 320
  ypos 3108
 }
push $N98fe4800
 NoOp {
  name Master_Data
  xpos 1400
  ypos -612
  addUserKnob {20 User}
  addUserKnob {12 inImageSize l "Image Size"}
  inImageSize {{width} {height}}
  addUserKnob {12 inImageCenter l "Image center"}
  inImageCenter {{width/2} {height/2}}
  addUserKnob {7 inRadius l "Corner Radius" R 0 4400}
  inRadius {{hypot(inImageCenter.x,inImageCenter.y)}}
 }
 StickyNote {
  inputs 0
  name StickyNote1
  label "We can use a single defocus if we don't have\ncat's eye, astigmatism or the matte box features\nenabled."
  xpos 451
  ypos 699
 }
push $N98fe7c00
 NoOp {
  name DepthSampler
  xpos 800
  ypos -1372
  addUserKnob {20 User}
  addUserKnob {7 sval R 0 1000}
 }
 Convolve2 {
  inputs 0
  channels rgba
  name Channel_Selector
  xpos -320
  ypos -92
 }
push $N98fe4800
 Dot {
  name Dot34
  xpos 1072
  ypos -568
 }
set N47ebc00 [stack 0]
push $N464c800
push $N98fe4800
push $N45de400
push $N47ebc00
 Dot {
  name Dot35
  xpos 112
  ypos -568
 }
 Group {
  inputs 2
  name Cropped_Defocus_Template
  xpos -320
  ypos -292
  cached true
  addUserKnob {20 User}
  addUserKnob {3 cellX l Cell-X}
  cellX 3
  addUserKnob {3 cellY l Cell-Y -STARTLINE}
  cellY 2
  addUserKnob {3 cellXSlices l X-Slices}
  cellXSlices 7
  addUserKnob {3 cellYSlices l Y-Slices -STARTLINE}
  cellYSlices 5
  addUserKnob {12 imageSize l "Image Size"}
  imageSize {{input0.width} {input0.height}}
  addUserKnob {12 imageCenter l "Image Center"}
  imageCenter {{input0.width*0.5} {input0.height*0.5}}
  addUserKnob {15 cellEdges l "Cell Borders"}
  cellEdges {{rint(input.width/cellXSlices*(cellX-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.height/cellYSlices*(cellY-1)-((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))-zdPad)-1} {rint(input.width/cellXSlices*(cellX)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)} {rint(input.height/cellYSlices*(cellY)+((defocus+(fcBlur/2*fcEnable))*1/(subSample+1))+zdPad)}}
  addUserKnob {12 cellCenter l "Cell Center"}
  cellCenter {{((cellEdges.r+1-cellEdges.x)*0.5)+cellEdges.x} {((cellEdges.t+1-cellEdges.y)*0.5)+cellEdges.y}}
  addUserKnob {7 cellRad l "Current Cell Radus" R 0 3000}
  cellRad {{hypot(imageCenter.x-cellCenter.x,imageCenter.y-cellCenter.y)}}
  addUserKnob {7 cornerRad l "Corner Cell Radius" R 0 3000}
  cornerRad {{hypot(imageCenter.x-rint(width/cellXSlices*0.5),imageCenter.y-(height/cellYSlices*0.5))}}
  addUserKnob {7 angleToCenter l "Angle to Center" R -180 180}
  angleToCenter {{-(degrees(atan2((cellCenter.x-imageCenter.x),(cellCenter.y-imageCenter.y)))-90)}}
  addUserKnob {7 cScaler l "Scaler from Corner"}
  cScaler {{cellRad/cornerRad}}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x7089b5ff
   label "Cat's Eye Distortion"
   note_font_size 42
   xpos -622
   ypos -1564
   bdwidth 524
   bdheight 407
  }
  BackdropNode {
   inputs 0
   name BackdropNode2
   tile_color 0x7089b5ff
   label Astigmatism
   note_font_size 42
   xpos -622
   ypos -1131
   bdwidth 525
   bdheight 341
  }
  BackdropNode {
   inputs 0
   name BackdropNode3
   tile_color 0x7089b5ff
   label "Edge Flags - Matte Box"
   note_font_size 42
   xpos -622
   ypos -768
   bdwidth 524
   bdheight 255
  }
  BackdropNode {
   inputs 0
   name BackdropNode4
   tile_color 0x7089b5ff
   label "Kernel Scale & Aspect Ratio"
   note_font_size 42
   xpos -622
   ypos -488
   bdwidth 525
   bdheight 415
  }
  BackdropNode {
   inputs 0
   name BackdropNode5
   tile_color 0x576799ff
   note_font_size 42
   xpos -1307
   ypos -12
   bdwidth 1094
   bdheight 664
  }
  BackdropNode {
   inputs 0
   name BackdropNode8
   tile_color 0x7089b5ff
   label "Simple Field Curvature"
   note_font_size 42
   xpos 164
   ypos 627
   bdwidth 472
   bdheight 186
  }
  BackdropNode {
   inputs 0
   name BackdropNode6
   tile_color 0x7c8fcaff
   label "Spectral RGB CA"
   note_font_size 42
   xpos -1249
   ypos 17
   bdwidth 418
   bdheight 445
   z_order 1
  }
  BackdropNode {
   inputs 0
   name BackdropNode7
   tile_color 0x7c8fcaff
   label Green-Magenta
   note_font_size 42
   xpos -808
   ypos 15
   bdwidth 417
   bdheight 449
   z_order 1
  }
  Reformat {
   inputs 0
   format "128 128 0 0 128 128 1 square_128"
   name Reformat3
   xpos -520
   ypos -1456
  }
  Radial {
   cliptype none
   area {{(width*0.5-(width*0.5*catExpansion))} {(height*0.5-(height*0.5*catExpansion))-(height*0.5*(catExpansion-1))} {(width*0.5+(width*0.5*catExpansion))} {height}}
   softness {{catSoftness/catExpansion}}
   name Radial1
   xpos -520
   ypos -1412
  }
  Transform {
   translate {0 {-(catOffset*height*clamp(1-(1-(cellRad/cornerRad))*(1/catCoverage),0,(cellRad/cornerRad)))}}
   center {{width/2} {height/2}}
   name Transform1
   xpos -520
   ypos -1372
  }
  Transform {
   rotate {{parent.angleToCenter-90}}
   center {{width/2} {height/2}}
   name Transform2
   xpos -520
   ypos -1332
  }
  Crop {
   box {0 0 {width} {height}}
   name Crop2
   xpos -520
   ypos -1292
  }
  Dot {
   name Dot6
   xpos -488
   ypos -1208
  }
  Input {
   inputs 0
   name Kernel
   xpos -320
   ypos -1772
   number 1
  }
  Merge2 {
   inputs 2
   operation multiply
   name Merge1
   xpos -320
   ypos -1212
   disable {{!catEnable}}
  }
  Dot {
   name Dot7
   xpos -288
   ypos -1048
  }
set N478ec00 [stack 0]
  Dot {
   name Dot8
   xpos -448
   ypos -1048
  }
  Transform {
   rotate {{-angleToCenter}}
   center {{width/2} {height/2}}
   name Transform5
   xpos -480
   ypos -1012
  }
  Transform {
   scale {{radType?((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1:1} {radType?1:((((cellRad/cornerRad)*radStretch))*(1-(clamp((1-(cellRad/cornerRad))*(1/radCoverage),0,1))))+1}}
   center {{width/2} {height/2}}
   name Transform4
   xpos -480
   ypos -972
  }
  Transform {
   rotate {{angleToCenter}}
   center {{width/2} {height/2}}
   name Transform3
   xpos -480
   ypos -932
  }
  Crop {
   box {{bbox.x} {bbox.y} {bbox.r} {bbox.t}}
   reformat true
   crop false
   name Crop3
   xpos -480
   ypos -892
  }
  Dot {
   name Dot9
   xpos -448
   ypos -848
  }
push $N478ec00
  Switch {
   inputs 2
   which {{radStretchEnable}}
   name Switch2
   xpos -320
   ypos -852
  }
  Crop {
   box {{((mattebLeft*.5*input.width)*clamp(((cellXSlices-cellX)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))-(mattebSoft*input.width*0.5)} {((mattebBot*.5*input.height)*clamp(((cellYSlices-cellY)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))-(mattebSoft*input.height*0.5)} {(bbox.w-(((mattebRight*.5)*input.width)*clamp(((cellX-1)/(cellXSlices-1))*(1/mattebCoverX)-((1/mattebCoverX)-1)))+(mattebSoft*input.width*0.5))} {(bbox.h-(((mattebTop*.5)*input.height)*clamp(((cellY-1)/(cellYSlices-1))*(1/mattebCoverY)-((1/mattebCoverY)-1)))+(mattebSoft*input.height*0.5))}}
   softness {{mattebSoft*input.width}}
   intersect true
   name Crop4
   xpos -320
   ypos -652
   disable {{!mattebEnable x256 0}}
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name Crop5
   xpos -320
   ypos -372
   cached true
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Reformat {
   type "to box"
   box_width {{(bbox.w/Kernel.width*defocus)>1?(bbox.w/Kernel.width*defocus*2*(1/(subSample+1))):1}}
   box_height {{(bbox.h/Kernel.height*defocus)>1?(bbox.h/Kernel.height*defocus*2*(1/(subSample+1))):1}}
   box_fixed true
   name Defocus_Reformat
   label "Defocus Kernel Scale"
   xpos -320
   ypos -296
  }
  Reformat {
   type scale
   box_width {{bokAspect}}
   scale {{par>1?1:par} 1}
   resize distort
   name PAR_Reformat
   label "Aspect Ratio Adjust"
   xpos -320
   ypos -216
   addUserKnob {20 User}
   addUserKnob {7 par l "Aspect Ratio"}
   par {{"useZDefocus?bokAspect:bokAspect/\[python nuke.toNode('Image').pixelAspect()]"}}
  }
  Dot {
   name Dot21
   xpos -288
   ypos 72
  }
set N474b000 [stack 0]
  Dot {
   name Dot11
   xpos -1128
   ypos 72
  }
  NoTimeBlur {
   name NoTimeBlur1
   xpos -1160
   ypos 108
  }
  Dot {
   name Dot12
   xpos -1128
   ypos 152
  }
set N474a400 [stack 0]
  Dot {
   name Dot13
   xpos -1048
   ypos 152
  }
set N474a000 [stack 0]
  Dot {
   name Dot15
   xpos -968
   ypos 152
  }
set N4749c00 [stack 0]
  Dot {
   name Dot16
   xpos -688
   ypos 152
  }
set N4749800 [stack 0]
  Dot {
   name Dot17
   xpos -608
   ypos 152
  }
set N4749400 [stack 0]
  Dot {
   name Dot18
   xpos -528
   ypos 152
  }
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform7
   xpos -560
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle7
   xpos -560
   ypos 231
  }
push $N4749400
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform9
   xpos -640
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle6
   xpos -640
   ypos 229
  }
push $N4749800
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.25)+1"}}
   center {{width/2} {height/2}}
   name Transform11
   xpos -720
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle4
   xpos -720
   ypos 224
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge4
   xpos -720
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(locaDivisions*3))"}}
   name Merge5
   xpos -640
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge6
   xpos -560
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur2
   xpos -560
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083864 0.5419722199 0.5412083268 1.624389172}
   name Grade4
   xpos -560
   ypos 348
  }
push $N4749c00
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))+(locaScale*0.0)+1"}}
   center {{width/2} {height/2}}
   name Transform6
   xpos -1000
   ypos 188
  }
  Shuffle {
   red black
   green black
   name Shuffle3
   xpos -1000
   ypos 227
  }
push $N474a000
  Transform {
   scale {{"((frame % 1)*(locaScale))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform14
   xpos -1080
   ypos 188
  }
  Shuffle {
   red black
   blue black
   name Shuffle2
   xpos -1080
   ypos 229
  }
push $N474a400
  Transform {
   scale {{"((frame % 1)*(locaScale*0.5))-(locaScale*0.5)+1"}}
   center {{width/2} {height/2}}
   name Transform16
   xpos -1160
   ypos 188
  }
  Shuffle {
   green black
   blue black
   name Shuffle5
   xpos -1160
   ypos 228
  }
push 0
  Merge2 {
   inputs 2
   operation plus
   mix {{"1-(frame % 1)"}}
   name Merge2
   xpos -1160
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)<.5?((frame % 1)*2)+(.999/(locaDivisions*3)):2-((frame % 1)*2)"}}
   name Merge3
   xpos -1080
   ypos 268
  }
  Merge2 {
   inputs 2
   operation plus
   mix {{"(frame % 1)+(.999/(caDivisions*3))"}}
   name Merge7
   xpos -1000
   ypos 268
  }
  TimeBlur {
   divisions {{locaDivisions*3}}
   shutter 1.001
   shutteroffset start
   shuttercustomoffset 0
   name TimeBlur1
   xpos -1000
   ypos 308
  }
  Grade {
   channels rgba
   whitepoint {0.5412083268 0.5411250591 0.5419722199 1.624305367}
   name Grade3
   xpos -1000
   ypos 348
  }
  Dot {
   name Dot19
   xpos -968
   ypos 392
  }
  Switch {
   inputs 2
   which {{locaType}}
   name Switch3
   xpos -560
   ypos 388
  }
  Crop {
   box {{cent.x-bboxSize.x} {cent.y-bboxSize.y} {cent.x+bboxSize.x} {cent.y+bboxSize.y}}
   reformat true
   crop false
   name locaCrop
   xpos -560
   ypos 508
   addUserKnob {20 User}
   addUserKnob {12 cent l Center}
   cent {{width/2} {height/2}}
   addUserKnob {12 bboxSize l BBox_Size}
   bboxSize {{max(bbox.r-cent.x,cent.x-bbox.x)} {max(bbox.t-cent.y,cent.y-bbox.y)}}
  }
  Dot {
   name Dot20
   xpos -528
   ypos 592
  }
push $N474b000
  Switch {
   inputs 2
   which {{locaEnable}}
   name Switch5
   xpos -320
   ypos 588
  }
  Dot {
   name Dot1
   xpos -288
   ypos 912
  }
set N4a99800 [stack 0]
  Dot {
   name Dot5
   xpos -288
   ypos 1592
  }
set N4a99400 [stack 0]
push $N4a99400
push $N4a99800
  Dot {
   name Dot26
   xpos -208
   ypos 912
  }
set N4a99000 [stack 0]
  Dot {
   name Dot27
   xpos -88
   ypos 912
  }
set N4a98c00 [stack 0]
  Shuffle {
   black alpha
   out2 origAlpha
   name Shuffle8
   selected true
   xpos 80
   ypos 908
  }
  Dot {
   name Dot3
   xpos 192
   ypos 912
  }
set N4a98400 [stack 0]
  Dot {
   name Dot2
   xpos 312
   ypos 912
  }
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial2
   label "ZDefocus Bug Fix"
   xpos 280
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat2
   xpos 280
   ypos 988
  }
  Input {
   inputs 0
   name Image
   xpos 320
   ypos -1772
  }
  Dot {
   name Dot10
   xpos 352
   ypos -1728
  }
set N4a4a800 [stack 0]
  Dot {
   name Dot22
   xpos 272
   ypos -1728
  }
  Dot {
   name Dot23
   xpos 272
   ypos -1608
  }
push $N4a4a800
  Crop {
   box {{cellEdges.x} {cellEdges.y} {cellEdges.r} {cellEdges.t}}
   name Crop1
   xpos 320
   ypos -1692
  }
  Crop {
   box {{0 x180 -512} {0 x180 -12} {width x180 2368} {height x180 2148}}
   intersect true
   name Crop8
   xpos 320
   ypos -1652
   disable true
  }
  Copy {
   inputs 2
   from0 depth.Z
   to0 depth.Z
   bbox B
   name Copy1
   xpos 320
   ypos -1616
   disable {{"\[string first \"depth.Z\" \[channels \[input this 1]]]==-1"}}
  }
  Remove {
   operation keep
   channels rgba
   channels2 origAlpha
   channels3 depth
   name Remove1
   xpos 320
   ypos -1572
  }
set N4a49000 [stack 0]
  Dot {
   name Dot25
   xpos 352
   ypos 592
  }
  Blur {
   size {{fcType?fcBlur*pow((1-cScaler),1/fcGamma)*(1/(subSample+1)):fcBlur*pow(cScaler,1/fcGamma)*(1/(subSample+1))}}
   name Blur2
   xpos 320
   ypos 704
   disable {{!fcEnable x405 1}}
  }
  Dot {
   name Dot14
   xpos 352
   ypos 872
  }
set N4a48400 [stack 0]
  ZDefocus2 {
   inputs 2
   center {{zdMath<4?0:zdFocus}}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_All
   xpos 320
   ypos 1024
  }
set N49fbc00 [stack 0]
push $N4a98400
push $N4a48400
  Dot {
   name Dot4
   xpos 232
   ypos 872
  }
set N49fb800 [stack 0]
  Convolve2 {
   inputs 2
   use_input_channels {{rgbBokeh}}
   name Convolve1
   xpos 200
   ypos 1024
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch4
   xpos 240
   ypos 1108
  }
push $N4a98c00
  Radial {
   opacity 0.0001
   area {0 0 {width} {height}}
   softness 0.03
   name Radial4
   label "ZDefocus Bug Fix"
   xpos -120
   ypos 944
  }
  Reformat {
   type "to box"
   box_width {{defocus*2}}
   box_height {{defocus*2}}
   resize none
   name Reformat1
   xpos -120
   ypos 988
  }
push $N49fb800
  Dot {
   name Dot28
   xpos -48
   ypos 872
  }
set N49f9c00 [stack 0]
  ZDefocus2 {
   inputs 2
   channels rgba
   center {{zdMath<4?0:zdFocus}}
   focal_point {278 53}
   size {{zdMath>3?(input1.height/2):1}}
   max_size {{zdMax}}
   autoLayerSpacing {{zdAuto}}
   layers {{zdLayers}}
   layerCurve {{zdCurve}}
   filter_type image
   legacy_resize_mode false
   show_legacy_resize_mode false
   use_input_channels {{rgbBokeh}}
   name ZDefocus_RGBA
   xpos -80
   ypos 1024
  }
push $N4a99000
push $N49f9c00
  Dot {
   name Dot29
   xpos -168
   ypos 872
  }
  Convolve2 {
   inputs 2
   channels rgba
   use_input_channels {{rgbBokeh}}
   name Convolve2
   xpos -200
   ypos 1028
  }
  Switch {
   inputs 2
   which {{useZDefocus}}
   name Switch6
   xpos -120
   ypos 1108
  }
  Dot {
   name Dot30
   xpos -88
   ypos 1232
  }
  Switch {
   inputs 2
   which {{alphaProc}}
   name Switch7
   xpos 240
   ypos 1228
  }
  Grade {
   black {{((cellX+cellY)%2*.2)+.05} {((cellX+cellY)%2*.2)+.05} 0.1 1}
   black_panelDropped true
   multiply 1.5
   black_clamp false
   name Grade1
   xpos 240
   ypos 1468
   disable {{output!=3}}
  }
  Crop {
   box {{parent.cellEdges} {parent.cellEdges} {parent.cellEdges} {parent.cellEdges}}
   softness {{defocus}}
   name Crop7
   xpos 240
   ypos 1508
  }
  Switch {
   inputs 3
   which {{"output>0 && output<3"}}
   name Switch1
   xpos 240
   ypos 1588
  }
  Output {
   name Output1
   xpos 240
   ypos 1668
  }
push $N49fbc00
push $N4a49000
  Viewer {
   inputs 2
   frame_range 1001-1001
   frame_range_lock true
   channels {rgba.red rgba.green rgba.blue depth.Z}
   zoom_lock true
   colour_sample_bbox {0.5166666508 -0.2239583284 0.5177083611 -0.2229166627}
   name Viewer1
   xpos 440
   ypos 1148
   hide_input true
  }
 end_group
 Viewer {
  inputs 4
  frame_range 1001-1001
  frame_range_lock true
  channels {rgba.red rgba.green rgba.blue depth.Z}
  colour_sample_bbox {0.3333333433 0.02083333395 0.334374994 0.02187499963}
  name Viewer1
  xpos 600
  ypos 2624
  hide_input true
 }
end_group
